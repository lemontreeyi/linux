(window.webpackJsonp=window.webpackJsonp||[]).push([[25,4,7,12,28,29,34,37],[,,function(t,e,r){"use strict";r.r(e),r.d(e,"i18n",(function(){return p})),r.d(e,"IS_ZH",(function(){return f})),r.d(e,"initMasterI18n",(function(){return h})),r.d(e,"initI18n",(function(){return d})),r.d(e,"setLangToLocal",(function(){return g})),r.d(e,"getLangFromLocal",(function(){return y}));var n=r(67),o=r.n(n),i=(r(13),r(16),r(17),r(44),r(10),r(0)),a=r(105),s=r.n(a),c=r(26),u=r.n(c);let l={};const p=function(t,e){var r;if(i.l)return chrome.i18n.getMessage(t,e)||t;if(i.r){const n=null===(r=l[t])||void 0===r?void 0:r.message,o=[];"string"==typeof e?o.push(e):Array.isArray(e)&&o.push(...e);const i=/(\$.+?\$)/g;let a=i.exec(n),s=n;for(;a;){let[t]=o.splice(0,1);void 0===t&&(t=""),s=s.replace(a[1],t),a=i.exec(n)}return s||t}return t};i.s?o.a.i18n=p:window.i18n=p;const f="zh-CN"===i.B.lang;async function h(){const t=await y();l=t}async function d(){if(!i.r)return;const{slave:t}=await Promise.all([r.e(28),r.e(34)]).then(r.bind(null,177)),e=i.B.lang;try{const r=await y(),n=localStorage.getItem("setLangCode"),o=localStorage.getItem("langCode");(null!==n&&null!==r||o===e&&null!==r)&&(l=r),await async function(t){const e=t.replace("-","_"),r=(await s.a.get(`${i.z}/_locales/${Object(i.C)(e)}/messages.json?v=1630379499468`)).data;Object.keys(r).length>50&&(l=r,localStorage.setItem("langCode",t),g(r))}(n?o:e),t.postTask("slave:master-init-i18n",l)}catch(t){}}function g(t){return u.a.setItem("current-language",t)}function y(){return u.a.getItem("current-language")}},,function(t,e,r){"use strict";r.d(e,"b",(function(){return b})),r.d(e,"a",(function(){return v}));r(17),r(10),r(13),r(16);var n=r(7),o=r.n(n),i=r(105),a=r.n(i),s=r(0),c=r(8);const u=a.a.create({timeout:3e4});let l=!1;const p=[],f=()=>new o.a(async(t,e)=>{if(p.push({resolve:t,reject:e}),!l){l=!0;try{const{userStore:t}=await Promise.all([r.e(0),r.e(5),r.e(6),r.e(7),r.e(36)]).then(r.bind(null,468)),{refreshToken:e}=t;if(!e)return t.setOutdated(),l=!1,void p.forEach(t=>{t.reject(new Error("no refreshtoken"))});const{status:n,data:o}=await u.post(s.w+"/refresh_token",{refresh_token:e},{headers:{"i-lang":s.B.lang}});if(200===n&&0===o.code){const{token:e,refreshToken:r}=o.data;Object(c.i)(()=>{t.token=e,t.refreshToken=r}),l=!1,p.forEach(t=>{t.resolve(e)})}else{if(200!==n||3010!==o.code&&3012!==o.code)throw new Error(null==o?void 0:o.message);t.setOutdated(),l=!1,p.forEach(t=>{t.reject(o.message)})}}catch(t){l=!1,p.forEach(e=>{e.reject(t)})}}});var h=r(21);r(52);const d=["params","data","_auth"],g=async t=>{const{slave:e}=await r.e(12).then(r.bind(null,177)),n=((t,e={})=>{const r=Object.keys(e).map(t=>`${t}=${encodeURIComponent(e[t])}`);return r.length?t.includes("?")?t+r.join("&"):t+"?"+r.join("&"):t})(t.url,t.params),{request:o,option:i}=(t=>{const e={},r={};return t.data&&!e.body&&(e.body=JSON.stringify(t.data)),Object.keys(t).forEach(n=>{d.includes(n)||(n.startsWith("_")?r[n]=t[n]:e[n]=t[n])}),{request:e,option:r}})(t);return e.postTask("slave:fetch",{url:n,request:o,option:i})},y=a.a.CancelToken,m=a.a.create({timeout:6e4});m.interceptors.response.use(null,t=>(t.message=i18n("network_error"),o.a.reject(t)));const w=Object.create(null),b=t=>{w[t]&&w[t]()},v=async t=>{if(t._single){const e=(t=>{let e;return e=!0===t._single?t.method+"-"+t.url.split("?")[0]:t._single,e})(t);w[e]&&w[e](),t.cancelToken=new y(t=>{w[e]=t})}var e;t._delay&&await(e=t._delay,new o.a(t=>{setTimeout(t,e)}));const n={};if(t._auth){const{userStore:e}=await Promise.all([r.e(0),r.e(29)]).then(r.bind(null,364));if(!e||!e.token)throw new Error("error token");{const r=h.a.parseJwt(e.token),o=await h.a.getTimestamp();if(t._Authorization)n.Authorization=t._Authorization,n["i-token"]=t._Authorization;else if(Math.floor(o/1e3)>r.exp-60){const t=await f();n.Authorization="Bearer "+t,n["i-token"]="Bearer "+t}else n.Authorization="Bearer "+e.token,n["i-token"]="Bearer "+e.token}}let i;if(t.url.includes(s.w)&&(n["i-lang"]=s.B.lang,n["i-edition"]=s.e,n["i-version"]=s.B.extVersion),t.headers=Object.assign(Object.assign({},n),t.headers),i=t._proxy?await g(t):await m(t),t._responseAll)return i;let{data:a}=i;if(!t._Authorization&&3010===(null==a?void 0:a.code)){const e=await f();t._Authorization="Bearer "+e,delete t.headers.Authorization,delete t.headers["i-token"],a=await v(t)}return a};["get","delete"].forEach(t=>{v[t]=(e,r,n={})=>v(Object.assign({url:e,params:r,method:t},n))}),["post","patch","put"].forEach(t=>{v[t]=(e,r,n={})=>v(Object.assign({url:e,data:r,method:t},n))}),v.jsonp=(t,e,r={})=>v(Object.assign({url:t,params:e},r))},,,function(t,e,r){t.exports=r(259)},,,,,,,,,,,,,,function(t,e,r){"use strict";var n=r(7),o=r.n(n),i=r(48),a=r.n(i),s=(r(10),r(13),r(16),r(17),r(44),r(52),r(223),r(0)),c=r(2),u=r(129),l=r(226),p=r(130);const f=t=>{t&&(s.r?window.open(t,"_self"):window.chrome.tabs.getCurrent(e=>window.chrome.tabs.update(e.id,{url:t},()=>{chrome.runtime.lastError&&(t.startsWith("http")?window.open(t,"_self"):window.chrome.tabs.create({url:t}))})))},h={randomId:p.b,group:(t,e)=>{const r=[],n=Math.ceil(t.length/e);for(let o=0;o<n;o++)o===n-1?r.push(t.slice(o*e,t.length)):r.push(t.slice(o*e,(o+1)*e));return r},openUrl:(t,e=!0,r)=>{!r||1!==r.button&&!h.ctrlKeyStatus(r)?e?s.r?window.open(t,"_blank").focus():window.chrome.tabs.create({url:t,active:!0}):f(t):s.r?window.open(t,"_blank"):window.chrome.tabs.create({url:t,active:!1})},openChromeApp:async(t,e=!0,n)=>{if(!await u.a.has(["management"]))try{await u.a.request(["management"])}catch(t){const{message:e}=await Promise.all([r.e(0),r.e(2),r.e(7),r.e(8)]).then(r.bind(null,120));return void e.error(i18n("no_permission_to_open_app",s.B.vendor))}chrome.management.get(t,async({type:o,launchType:i,enabled:a,appLaunchUrl:c}={})=>{if(chrome.runtime.lastError){const{message:t}=await Promise.all([r.e(0),r.e(2),r.e(7),r.e(8)]).then(r.bind(null,120));t.error(i18n("target_chrome_app_not_installed",s.B.vendor))}else{const s=()=>{!n||1!==n.button&&!h.ctrlKeyStatus(n)?e||"hosted_app"!==o||"OPEN_AS_REGULAR_TAB"!==i?chrome.management.launchApp(t):f(c):chrome.management.launchApp(t)};if(a)s();else{const{IConfirm:e}=await Promise.all([r.e(0),r.e(35)]).then(r.bind(null,369));e.create().toShow({text:i18n("app_disabled_enable_first"),onConfirm:()=>{window.chrome.management.setEnabled(t,!0,()=>{s()})}})}}})},send:async function({key:t,data:e}){s.r||window.chrome.runtime.sendMessage({key:t,data:e})},downloadImg:function(t,e,r){if(!e)if(e="infinity-"+Math.ceil(Date.now()*Math.random()/(555555*Math.random())),t.startsWith("blob:"))e=`${e}.${r||"png"}`;else{const r=t.indexOf("?");let n=t;~r&&(n=t.slice(0,r));e=`${e}.${n.split("/").reverse()[0].split(".").reverse()[0]}`}const n=e,o=document.createElement("a");let i=t;t.startsWith("blob:")||(i=t.includes("?")?`${t}&attname=${n}`:`${t}?attname=${n}`),s.n&&o.setAttribute("target","_blank"),o.setAttribute("download",n),o.setAttribute("href",i),document.body.appendChild(o),o.click(),document.body.removeChild(o)},fmtTime:(t,e)=>new Date(t).toLocaleString(s.B.lang,e||{year:"numeric",month:"long",day:"2-digit",hour:"2-digit",minute:"2-digit"}),getTimestamp:async function(){return Date.now()},parseJwt:t=>{const e=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(atob(e).split("").map(t=>"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(r)},compress:(t,e=10,r)=>new o.a(n=>{const o=new Image,i=document.createElement("canvas"),a=i.getContext("2d");o.onload=()=>{r=r||o.height*e/o.width,i.width=e,i.height=r,a.fillRect(0,0,e,r),a.drawImage(o,0,0,e,r),i.toBlob(n,"image/jpeg")},o.src=t}),mergeArray:function(t=[],e=[],r="id",n="updatetime"){if(!t||0===t.length)return{result:e||[],isLocalEffective:!1};const o=e.filter(t=>!!t),i=Object.create(null);e.forEach((t,e)=>{if(t[r]){const n=t[r];i[n]=e}});let a=!1;return t.filter(t=>0!==t[n]).forEach(t=>{const e=t[r],s=i[e];if(void 0!==s){(o[s][n]||0)<(t[n]||0)&&(o[s]=t,a=!0)}else a=!0,o.push(t)}),{result:o.filter(t=>!!t),isLocalEffective:a}},throttle:function(t,e){let r;return function(...n){const o=this;r||(r=setTimeout(()=>{t.apply(o,n),r=null},e))}},debounce:function(t,e){let r=null;return function(){const n=this,o=arguments;r&&(clearTimeout(r),r=null),r=setTimeout(()=>{t.apply(n,o)},e)}},setStyle:function(t,e=document.body){Object.keys(t).forEach(r=>{e.style.setProperty(r,t[r])})},isInputType:t=>!!t&&(!("INPUT"!==t.tagName||t.getAttribute("type")&&"text"!==t.getAttribute("type")&&"search"!==t.getAttribute("type"))||("TEXTAREA"===t.tagName||(!!t.getAttribute("contenteditable")||void 0))),convertBase64ToBlob:t=>{const e=t.split(",");let r="",n="";e.length>1&&(n=e[1],r=e[0].substring(e[0].indexOf(":")+1,e[0].indexOf(";")));const o=atob(n),i=new ArrayBuffer(o.length),a=new Uint8Array(i);for(let t=0;t<o.length;t++)a[t]=o.charCodeAt(t);return new Blob([i],{type:r})},isTouchScreendevice:()=>!(!("ontouchstart"in window)&&!navigator.maxTouchPoints),stopBubble(t){t.stopPropagation()},hexColorDelta(t,e){let r,n,o,i,a,s;Array.isArray(t)?[r,n,o]=t:(r=parseInt(t.substring(0,2),16),n=parseInt(t.substring(2,4),16),o=parseInt(t.substring(4,6),16)),Array.isArray(e)?[i,a,s]=e:(i=parseInt(e.substring(0,2),16),a=parseInt(e.substring(2,4),16),s=parseInt(e.substring(4,6),16));let c=255-Math.abs(r-i),u=255-Math.abs(n-a),l=255-Math.abs(o-s);return c/=255,u/=255,l/=255,(c+u+l)/3},async getSimilarColor(t){const e=a.a.createObjectURL(t),r=await new o.a(t=>{const r=new Image;r.onload=()=>t(r),r.src=e}),n=(new ColorThief).getColor(r),i=window.__INFINITY__.color_list,s=i.map(t=>h.hexColorDelta(n,t)),c=Math.max.apply(null,s),u=i[s.indexOf(c)];return a.a.revokeObjectURL(e),u},getPrivacyUrl(){const t=c.IS_ZH?"zh":"en";return s.n?`/privacy/${t}/privacy.html`:`${s.t}/${s.e}/${s.c}/${t}/privacy.html`},sleep:(t=0)=>new o.a(e=>{setTimeout(()=>{e(null)},t)}),checkImage(){let t;return[e=>new o.a((r,n)=>{t=new Image,t.onload=r,t.onerror=n,t.src=e}),()=>{t&&(t.src="")}]},requestFirefoxThrottle(t,e,r=!1){if(s.n||r){const r="throttle-"+t;if("boolean"==typeof e&&localStorage.setItem(r,Date.now()+""),"number"==typeof e){const t=localStorage.getItem(r),n=Date.now();if(t&&Number(t)<n&&Number(t)+e>n)return!1}}return!0},chooseFile:(t,e)=>(t=t||"image/jpg,image/jpeg,image/png,image/gif,image/bmp,image/webp,image/svg",e=e||"readAsDataURL",new o.a(r=>{try{document.querySelectorAll(".choose-file").forEach(t=>{document.body.removeChild(t)})}catch(t){}const n=document.createElement("input");n.setAttribute("type","file"),n.setAttribute("class","choose-file"),n.setAttribute("accept",t),n.style.opacity="0",n.style.width="0",n.style.height="0",n.value="",n.addEventListener("change",t=>{const o=t.target.files[0],i=new FileReader;i[e](o),i.onload=function(t){const e=t.target.result;r(e);try{document.body.removeChild(n)}catch(t){}}},{once:!0}),document.body.appendChild(n),n.click()})),stopShowMenu(t){if(!h.isInputType(t.target))return t.stopPropagation(),t.preventDefault(),document.querySelector("i-menu").toHide(),!1},ctrlKeyStatus:t=>s.o?t.metaKey:t.ctrlKey,getFavIconSrc:t=>g(t)?t:function(t){try{return new l.a(t).host}catch(e){return t}}(function(t){if(function(t){return/^(.+?):\/\//.test(t)}(t)||g(t))return t;return"http://"+t}(t)).replace("^www.",""),getLastReqValue(t){const e=[],r=this;return async function(n,o,i){const a=r.randomId("req");e.push(a);const s=await t(n,o,i),c=e.findIndex(t=>t===a),u=e.length;return e.splice(0,c+1),c===u-1?s:null}},isFirstDate(t){const e=new Date("2013/11/30").toLocaleDateString(t);let r="";if(e.replace(/(\d{1,4})\D+(\d{1,2})\D+(\d{1,4})/,(t,e)=>(r=e,"")),"2013"===r)return!0;const n=String(new Date("2013/11/30").getDate());return r===n},internaDateToStan:p.a,getTargetLogDomain(t){if(!t)return"";try{if(t.startsWith("http://")||t.startsWith("https://")){const e=new a.a(t);if(e.host)return e.host}return t.split("?")[0]}catch(e){return t}}};const d=/^\w+:\w/;function g(t){return d.test(t)}e.a=h;const y=document.createElement("script");y.src="/vendor/color-thief.min.js",document.head.appendChild(y),y.onload=()=>{y.remove()}},function(t,e,r){"use strict";r.d(e,"c",(function(){return c})),r.d(e,"d",(function(){return u})),r.d(e,"b",(function(){return l})),r.d(e,"e",(function(){return p})),r.d(e,"f",(function(){return f})),r.d(e,"g",(function(){return h})),r.d(e,"a",(function(){return d}));var n=r(7),o=r.n(n),i=(r(10),r(13),r(16),r(0)),a=r(26),s=r.n(a);function c(t,e){if(i.l){if(t=window.chrome.runtime.getURL(t),null==e?void 0:e.isNewTab)return window.chrome.tabs.create({url:t});window.chrome.tabs.getCurrent(e=>window.chrome.tabs.update(e.id,{url:t},()=>{chrome.runtime.lastError&&t&&(t.startsWith("http")?window.open(t,"_self"):window.chrome.tabs.create({url:t}))}))}else{if(null==e?void 0:e.isNewTab)return window.open(t);window.open(t,"_self")}}async function u(){if(i.l){const{slave:t}=await r.e(12).then(r.bind(null,177));window.chrome.tabs.getCurrent(e=>{t.sendMessage("tabs-reload"),setTimeout(()=>{window.chrome.tabs.remove(e.id)},16)})}else setTimeout(()=>{c("/")},16)}async function l(t,e){try{if(e){return await s.a.getItem(t)}{const e=localStorage.getItem(t);if(e)return"string"==typeof e?JSON.parse(e):e}}catch(t){throw new Error(t)}}async function p(t,e,r){r?await s.a.setItem(t,e):localStorage.setItem(t,JSON.stringify(e))}async function f(t,e,r=!1){const n=await l(t,r);if(n&&Object.keys(n).length){p(t,Object.assign({},n,e),r)}else p(t,e,r)}async function h(t,e){const{autoBackupPipe:r}=await l("store-sync",!0);r.data[t]=e,r.timestamp=Date.now(),r.websocketKeys.includes(t)||r.websocketKeys.push(t),await f("store-sync",{autoBackupPipe:r},!0)}async function d(){const t=await new o.a(t=>chrome.bookmarks.getTree(t));if(i.n){const e=t[0].children.findIndex(t=>"unfiled_____"===t.id),r=t[0].children.findIndex(t=>"toolbar_____"===t.id);if(-1!==e&&-1!==r)if(e>r){const[n]=t[0].children.splice(e,1),[o]=t[0].children.splice(r,1);t[0].children.unshift(o,n)}else{const[n]=t[0].children.splice(r,1),[o]=t[0].children.splice(e,1);t[0].children.unshift(n,o)}}return t}},function(t,e,r){"use strict";r.d(e,"c",(function(){return i})),r.d(e,"a",(function(){return a})),r.d(e,"b",(function(){return s})),r.d(e,"d",(function(){return c}));r(17);const n=/^http[s]?:\/\//;function o(t){return n.test(t)}const i=navigator.userAgent.toLowerCase().match(/version\/([\d.]+).*safari/),a=(t,e)=>{const r="https://infinityicon.infinitynewtab.com/assets/images/"+t;return!0===e?s(r):!1===e?r:/\.(png|jpg|jpeg)$/.test(t)?s(r):r};function s(t){return o(t)?t.includes("?")?t:i?t+"?imageView2/0/q/100":t+"?imageView2/0/format/webp/q/100":t}function c(t){return o(t)?t.includes("?")?t:i?t+"?imageMogr2/thumbnail/240x/blur/1x0/quality/100|imageslim":t+"?imageMogr2/thumbnail/240x/format/webp/blur/1x0/quality/100|imageslim":t}},,,,,,,,,,function(t,e,r){var n=r(12),o=r(201),i=r(29),a=r(202),s=r(205),c=r(267),u=o("wks"),l=n.Symbol,p=c?l:l&&l.withoutSetter||a;t.exports=function(t){return i(u,t)&&(s||"string"==typeof u[t])||(s&&i(l,t)?u[t]=l[t]:u[t]=p("Symbol."+t)),u[t]}},,,,,,,,,,,,,,,function(t,e,r){t.exports=r(286)},,,,function(t,e,r){var n=r(3),o=r(107),i=r(254),a=r(14);for(var s in o){var c=n[s],u=c&&c.prototype;if(u&&u.forEach!==i)try{a(u,"forEach",i)}catch(t){u.forEach=i}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,r){"use strict";r.d(e,"i",(function(){return n})),r.d(e,"d",(function(){return o})),r.d(e,"h",(function(){return A})),r.d(e,"b",(function(){return i})),r.d(e,"a",(function(){return a})),r.d(e,"g",(function(){return s})),r.d(e,"e",(function(){return u})),r.d(e,"f",(function(){return xt})),r.d(e,"c",(function(){return c}));var n={};r.r(n),r.d(n,"getLocalCity",(function(){return f})),r.d(n,"getForecastWeather",(function(){return h})),r.d(n,"getCityList",(function(){return d}));var o={};r.r(o),r.d(o,"getSearchSuggest",(function(){return v})),r.d(o,"getEnginesList",(function(){return x}));var i={};r.r(i),r.d(i,"getIcon",(function(){return U})),r.d(i,"getUrlInfoWithPermission",(function(){return q})),r.d(i,"getUrlIcon",(function(){return N})),r.d(i,"getFetchiconUrls",(function(){return W}));var a={};r.r(a),r.d(a,"getUnreadEmails",(function(){return z}));var s={};r.r(s),r.d(s,"register",(function(){return G})),r.d(s,"login",(function(){return Y})),r.d(s,"updateProfile",(function(){return Z})),r.d(s,"getUserProfile",(function(){return X})),r.d(s,"uploadAvatar",(function(){return Q})),r.d(s,"modifyPassword",(function(){return tt})),r.d(s,"forgetPassword",(function(){return et})),r.d(s,"resetPassword",(function(){return rt})),r.d(s,"getCode",(function(){return nt})),r.d(s,"getRegisterCode",(function(){return ot})),r.d(s,"inspceCode",(function(){return it})),r.d(s,"checkTokenIsExpired",(function(){return at})),r.d(s,"deleteAccount",(function(){return st})),r.d(s,"loginWithUid",(function(){return ct})),r.d(s,"v1BasicLogin",(function(){return ut})),r.d(s,"getMobileUid",(function(){return lt}));var c={};r.r(c),r.d(c,"getRepairConcat",(function(){return pt})),r.d(c,"postErrorCollect",(function(){return ft})),r.d(c,"sendLog",(function(){return ht}));var u={};r.r(u),r.d(u,"getSyncList",(function(){return yt})),r.d(u,"getSyncDetail",(function(){return mt})),r.d(u,"autoBackup",(function(){return wt})),r.d(u,"manualBackup",(function(){return bt})),r.d(u,"getV2DataFromV1",(function(){return vt}));r(10);var l=r(0),p=r(4);const f=async()=>{try{const t=await p.a.get(l.y+"/city/locate",{lang:l.B.lang},{timeout:1e4});if(t&&t.city)return{data:t.city}}catch(t){return{error:t}}},h=async t=>{try{return{data:(await p.a.get(l.y+"/weather/forecast",{lang:l.B.lang,cid:t},{timeout:1e4})).forecast}}catch(t){return{error:t}}},d=async t=>{try{return{data:await p.a.get(l.y+"/city/list",{lang:l.B.lang,searchkey:t},{timeout:1e4})}}catch(t){return{error:t}}};r(17);var g=r(21),y=r(99),m=r.n(y),w=r(239),b=r.n(w);const v=async t=>l.B.isZh?l.h||l.r?_(t):T(t):l.h||l.r?S(t):j(t),x=async t=>{let e=l.q?36e5:6e4;t||(e=0);try{if(!g.a.requestFirefoxThrottle("/search/list",e,!0))return{error:"request throttle error"};const r=await p.a.get(l.w+"/search/list",{lang:l.B.lang,platform:l.B.platform,platformVersion:l.B.platformVersion,edition:l.e,maybe360:l.D,version:t||""+Date.now()});if(0===r.code){const t=r.data.map(t=>{const e={};return e.name=t.name,e.uuid=t.seId,e.logo=t.logo,e.desc=t.desc,e.types=t.types,e.hide=t.hide,e});return g.a.requestFirefoxThrottle("/search/list",!0,!0),{data:{list:t,hash:m()(JSON.stringify(t)),meta:r.meta}}}if(2005===r.code)return g.a.requestFirefoxThrottle("/search/list",!0,!0),{error:r};throw r}catch(t){return{error:t}}},k=g.a.getLastReqValue(p.a.jsonp),_=async t=>{var e;try{const r=await k(l.b+"/su?ie=utf-8&p=3",{wd:t},{adapter:b.a,callbackParamName:"cb"});return{data:(null===(e=null==r?void 0:r.s)||void 0===e?void 0:e.map(t=>({text:t})))||[]}}catch(t){return{error:t}}},S=async t=>{var e;try{const r=await k(l.g+"/complete/search?client=chrome",{q:t},{adapter:b.a,callbackParamName:"jsonp"});return{data:(null==r?void 0:r.length)&&(null===(e=r[1])||void 0===e?void 0:e.length)?r[1].map(t=>({text:t})):[]}}catch(t){return{error:t}}},T=async t=>{try{const e=await p.a.get(l.b+"/su?p=3&ie=UTF-8&cb=",{wd:t},{_single:!0,_delay:0}),r=/s:(\[[\w\W]*\])/.exec(e),n=JSON.parse(r[1]);return{data:n.map(t=>({text:t}))}}catch(t){return{error:t}}},j=async t=>{try{const e=await p.a.get(l.g+"/complete/search?client=chrome",{q:t},{_single:!0,_delay:200});return{data:e[2].map((t,r)=>(t||(t=e[1][r]),{text:t}))}}catch(t){return{error:t}}};var A=r(188),E=r(7),O=r.n(E),I=r(104),L=r.n(I),R=r(48),P=r.n(R);r(52),r(243),r(13),r(16),r(44);const C=l.B.lang,U=async({page:t=0,type:e,keyword:r,source:n}={})=>{try{const o=await p.a.get(l.v+"/get-icons",{lang:C,page:t,type:e,source:n,keyword:r},{_single:!0,_delay:200});if(o.success)return o.icons.forEach(t=>{if("infinity"===t.source)switch("infinity://wallpaper"===t.url&&(t.name="wallpaper_library"),t.url){case"infinity://wallpaper":case"infinity://weather":case"infinity://todos":case"infinity://notes":case"infinity://history":case"infinity://bookmarks":case"infinity://settings":t.name=i18n(t.name),t.description=i18n(t.description);break;case"infinity://extension":t.name=i18n(t.name),t.description=i18n(t.description,l.B.vendor)}t._footer=t.description||i18n("no_description")}),{data:o};throw o}catch(t){return{error:t}}},M=async t=>{try{const e=await p.a.get(l.w+"/icon/title",{url:t},{_single:!0,_delay:0,timeout:3e3});if(0===e.code)return{data:{name:e.data.title}};throw e}catch(t){return{error:t}}},B=/<title[^>]*>\s*(.*)\s*<\/title>/,q=t=>window.__INFINITY__.hasAllUrlPermission?new O.a(async e=>{let r=0;M(t).then(t=>{r+=1,t.error&&2!==r||e(t)}),(async t=>{try{const e=await p.a.get(t,{},{_single:"getUrlInfoFromFE",timeout:3e3,responseType:"text",_responseAll:!0}),r=e.data;if(r&&e.status>=200&&e.status<300){const t=r.indexOf("<title");if(t>0){const e=r.slice(t,t+200),n=B.exec(e),o=null==n?void 0:n[1];if(o)return{data:{name:o}}}}return{error:"error"}}catch(t){return{error:t}}})(t).then(t=>{r+=1,t.error&&2!==r||e(t)})}):new O.a(async e=>{e(await M(t))}),$=(t,e)=>{if(0===e.length)return e;const r=new Map,n=[];return t.forEach((t,e)=>{r.set(t,e)}),e.forEach(t=>{const e=r.get(t);n[e]=t}),n.filter(t=>!!t)},D=t=>new O.a(e=>{const r=()=>{const e=$(t,i),r=$(t,a),n=$(t,s);return e.concat(r,n)},n=t.length;let o=0;const i=[],a=[],s=[];t.forEach(t=>{const c=new Image;c.onload=function(){o+=1;const{width:c,height:u}=this,l=Math.max(c,u),p=Math.min(c,u);l/p<5?p>50&&l>100?i.push(t):p>50||l>100?a.push(t):s.push(t):s.push(t),o===n&&e(r())},c.onerror=()=>{o+=1,o===n&&e(r())},c.src=t}),setTimeout(()=>{e(r())},3e3)}),F=/\.(ico|png|jpg|jpeg|svg|webp)$/,N=async t=>{var e;try{const r=await p.a.get(t,{},{_single:"getUrlIcon",timeout:3e3,responseType:"text",_responseAll:!0}),n=r.data;if(n&&r.status>=200&&r.status<300){const o=(null===(e=r.request)||void 0===e?void 0:e.responseURL)||t;let i=((t,e)=>{const r=[];return e.replace(/<link [^>]*href=['"]([^'"]+)[^>]*/gi,(t,e)=>{r.push(e)}),L()(r).call(r,(e,r)=>{if(r&&F.test(r)){const n=new P.a(r,t);e.push(n.href)}return e},[])})(o,n);if(i.length<6){const t=((t,e)=>{const r=[];return e.replace(/<img [^>]*src=['"]([^'"]+)[^>]*/gi,(t,e)=>{r.push(e)}),L()(r).call(r,(e,r)=>{if(r&&F.test(r)){const n=new P.a(r,t);e.push(n.href)}return e},[])})(o,n);i=i.concat(t)}i.length>4&&(i.length=4);let a=await D(i);return a=Array.from(new Set(a)),a.length>2&&(a.length=2),{data:a}}return{error:""}}catch(t){return{error:t}}},W=async t=>{try{const{host:e}=new P.a(t),r=await p.a.get(l.w+"/icon/get_icon_urls",{host:e});return 0!==r.code?{error:r}:{data:r.data.map(t=>t.url)}}catch(t){return{error:t}}};function V(t){return t?t.textContent:null}function z(t){return new O.a((e,r)=>{const n=new XMLHttpRequest;n.onreadystatechange=function(){var t,o;if(4==n.readyState)if(n.responseXML){const r=n.responseXML;let i=V(r.querySelector("title"));if(i)try{i=/(\w+)@(\w+\.\w+)/.exec(i)[0]}catch(t){}const a=parseInt(V(r.querySelector("fullcount")),10),s=r.querySelectorAll("entry"),c=[];let u=-1;for(let e=0,r=s.length;e<r;e++){const r=s[e],n={id:V(r.querySelector("id")),issued:V(r.querySelector("issued")),title:V(r.querySelector("title")),summary:V(r.querySelector("summary")),link:(t=r.querySelector("link"),o="href",t?t.getAttribute(o):null),authorName:V(r.querySelector("author name")),authorEmail:V(r.querySelector("author email"))};n.issued&&(n.issued=new Date(n.issued).valueOf(),u=Math.max(u,n.issued)),c.push(n)}e({account:i,lastIssuedTime:u,count:a,emails:c})}else r()},n.onerror=r,n.open("GET",function(t){return l.f+"/mail/feed/atom?zx="+encodeURIComponent(t)}(t),!0),n.send(null)})}var H=r(126),K=r.n(H),J=r(22);const G=async({email:t,password:e,repeatPassword:r,code:n})=>{const o={email:K()(t).call(t),password:m()(e),repeatPassword:m()(r),code:K()(n).call(n)};try{return await p.a.post(l.w+"/user/register",o)}catch(t){return t}},Y=async({email:t,password:e})=>{const r={email:K()(t).call(t),password:m()(e)};try{return await p.a.post(l.w+"/user/login",r)}catch(t){return t}};async function Z(t){const e=(await Object(J.b)("store-user")).userInfo.uid;try{return await p.a.post(l.w+"/user/update_profile/"+e,t,{_auth:!0})}catch(t){throw new Error(t.message)}}async function X(){try{return await p.a.get(l.w+"/user/get_user_profile",{},{_auth:!0,_proxy:!0})}catch(t){return t}}async function Q(t){const e=new FormData;e.append("file",t);try{const t=await p.a.post(l.w+"/upload/avatar",e,{_auth:!0,headers:{"Content-Type":"multipart/form-data"}});if(0===(null==t?void 0:t.code))return t;throw new Error(i18n("upload_avatar_failure"))}catch(t){throw new Error(t)}}async function tt({originPassword:t,newPassword:e}){const r=await Object(J.b)("store-user"),n=r.userInfo.uid,{token:o}=r;if(!o)throw new Error(i18n("unknown_mistake"));const i={originPassword:m()(t),newPassword:m()(e)};try{return await p.a.post(l.w+"/user/modify_password/"+n,i,{_auth:!0})}catch(t){return t}}async function et(t){try{return await p.a.post(l.w+"/user/forget_password",t)}catch(t){return t}}async function rt({password:t,repeatPassword:e,email:r,code:n}){const o={password:m()(t),repeatPassword:m()(e),email:K()(r).call(r),code:K()(n).call(n)};try{return await p.a.post(l.w+"/user/reset_password",o)}catch(t){return t}}async function nt(t){try{return await p.a.post(`${l.w}/get_code?lang=${l.B.lang}`,t)}catch(t){return t}}async function ot(t){try{return await p.a.post(`${l.w}/get_register_code?lang=${l.B.lang}`,t)}catch(t){return t}}async function it(t){try{return await p.a.post(l.w+"/inspce_code",t)}catch(t){return t}}async function at(){try{return await p.a.get(l.w+"/check_token",{},{_auth:!0})}catch(t){return t}}async function st(){const t=(await Object(J.b)("store-user")).userInfo.uid;try{return await p.a.post(l.w+"/user/delete/"+t,{},{_auth:!0})}catch(t){return t}}const ct=async t=>{try{return await p.a.post(l.w+"/user/login_uid",t,{timeout:1e4})}catch(t){return t}},ut=async t=>{try{return await p.a.post(l.w+"/user/v1_basic_login",t,{timeout:1e4})}catch(t){return t}},lt=async(t,e)=>{try{return await p.a.get(`${l.w}/user/user_hash?uid=${t}&secret=${e}`)}catch(t){return t}},pt=async()=>{try{const t=await p.a.get(l.w+"/get_concat_info");if(0===t.code)return{data:t.data};throw t}catch(t){return{error:t}}},ft=async(t,e)=>{try{const{response:r,stack:n,config:o}=e;let i=r||o;i&&(i=JSON.stringify(i,(t,e)=>{if(e instanceof FormData){const t={};for(const[r,n]of e)t[r]=n;return t}if(e instanceof File){return{lastModified:e.lastModified,name:e.name,size:e.size,type:e.type}}return e}));let a=await Object(J.b)("store-user");if(a){const t=["mobileuid","avatar","refreshToken","secret","gender","name"];a=JSON.stringify(a,(e,r)=>{if(!t.includes(e))return r})}const s=await p.a.post(l.w+"/collect",{type:t,user:a,stack:n,info:i,env:Object.assign({},l.B)});if(0===s.code)return{data:s.data};throw s}catch(t){return{error:t}}},ht=async t=>{await p.a.get(t,void 0,{_proxy:!0,_proxyIgnoreRes:!0})},dt=t=>{const e=JSON.stringify(t),r=(new TextEncoder).encode(e);return new Blob([r],{type:"application/json;charset=utf-8"})},gt=t=>({id:t,time:g.a.fmtTime(Number(t))}),yt=async()=>{try{const t=await p.a.get(l.w+"/sync/list",void 0,{_auth:!0,_proxy:!0});return 0!==t.code?{error:t}:(t.data.auto=t.data.auto.map(gt),t.data.manual=t.data.manual.map(gt),{data:t.data})}catch(t){return{error:t}}},mt=async(t,e,r="all")=>{try{const n=await p.a.get(l.w+"/sync/download_url",{id:t,type:e,keys:r},{_auth:!0});if(0!==n.code)return{error:n};const o=n.data;let i={};const a=await O.a.all(o.map(e=>p.a.get(e.url+"&timestampid="+("latest"===t?Date.now():t),{},{timeout:18e4})));return o.forEach((t,r)=>{const n=t.fileKey;"manual"===e?i=Object.assign(Object.assign({},i),a[r]):"auto"===e&&(i[n]=a[r])}),{data:i}}catch(t){return ft("getSyncDetail",t),{error:t}}},wt=async(t,e="")=>{const r=Object.keys(t).join(",");try{const n=await p.a.get(l.w+"/sync/token",{type:"auto",keys:r},{_auth:!0});if(0!==n.code||!n.data.length)return{error:n};const o=n.data;await O.a.all(o.map(e=>{const{url:r,key:n,token:o,host:i}=e,a=new FormData;return a.append("token",o),a.append("key",r),a.append("file",dt(t[n])),p.a.post(i,a,{headers:{"Content-Type":"multipart/form-data"},timeout:18e4})})),localStorage.setItem("pre-sync-id",o[0].timestamp+"");const i=await p.a.post(l.w+"/sync/done",{type:"auto",websocketkeys:e,keys:r,record_time:o[0].timestamp},{_auth:!0});return 0!==i.code?{error:i}:{data:i.data.map(gt)}}catch(t){return ft("autoBackup",t),{error:t}}},bt=async t=>{try{const e=await p.a.get(l.w+"/sync/token",{type:"manual",keys:"data"},{_auth:!0});if(0!==e.code||!e.data.length)return{error:e};const{token:r,url:n,timestamp:o,host:i}=e.data[0],a=new FormData;a.append("token",r),a.append("key",n),a.append("file",dt(t)),await p.a.post(i,a,{headers:{"Content-Type":"multipart/form-data"},timeout:18e4});const s=await p.a.post(l.w+"/sync/done",{type:"manual",keys:"data",record_time:o},{_auth:!0});return 0!==s.code?{error:s}:{data:s.data.map(gt)}}catch(t){return ft("manualBackup",t),{error:t}}},vt=t=>"pro"===t?async function(){try{const{userInfo:t={}}=await Object(J.b)("store-user"),{uid:e,secret:r}=t,n=await p.a.get(l.v+"/user/recovery-pro",{uid:e,secret:r},{timeout:2e5});if(n.success)return{data:n.data};throw n}catch(t){return ft("getProV1Data",t),{error:t}}}():"basic"===t?async function(){try{const t=await p.a.get(l.w+"/sync/recover_basic",{},{_auth:!0,timeout:2e5});return 0!==t.code?{error:t}:{data:t.data}}catch(t){return ft("getBasicV1Data",t),{error:t}}}():void 0;var xt=r(251)},,function(t,e,r){var n=r(70),o=r(12),i=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?i(n[t])||i(o[t]):n[t]&&n[t][e]||o[t]&&o[t][e]}},,,,,,,,,,,,,function(t,e){t.exports=!0},,,function(t,e,r){var n,o,i,a,s;n=r(347),o=r(252).utf8,i=r(348),a=r(252).bin,(s=function(t,e){t.constructor==String?t=e&&"binary"===e.encoding?a.stringToBytes(t):o.stringToBytes(t):i(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||t.constructor===Uint8Array||(t=t.toString());for(var r=n.bytesToWords(t),c=8*t.length,u=1732584193,l=-271733879,p=-1732584194,f=271733878,h=0;h<r.length;h++)r[h]=16711935&(r[h]<<8|r[h]>>>24)|4278255360&(r[h]<<24|r[h]>>>8);r[c>>>5]|=128<<c%32,r[14+(c+64>>>9<<4)]=c;var d=s._ff,g=s._gg,y=s._hh,m=s._ii;for(h=0;h<r.length;h+=16){var w=u,b=l,v=p,x=f;u=d(u,l,p,f,r[h+0],7,-680876936),f=d(f,u,l,p,r[h+1],12,-389564586),p=d(p,f,u,l,r[h+2],17,606105819),l=d(l,p,f,u,r[h+3],22,-1044525330),u=d(u,l,p,f,r[h+4],7,-176418897),f=d(f,u,l,p,r[h+5],12,1200080426),p=d(p,f,u,l,r[h+6],17,-1473231341),l=d(l,p,f,u,r[h+7],22,-45705983),u=d(u,l,p,f,r[h+8],7,1770035416),f=d(f,u,l,p,r[h+9],12,-1958414417),p=d(p,f,u,l,r[h+10],17,-42063),l=d(l,p,f,u,r[h+11],22,-1990404162),u=d(u,l,p,f,r[h+12],7,1804603682),f=d(f,u,l,p,r[h+13],12,-40341101),p=d(p,f,u,l,r[h+14],17,-1502002290),u=g(u,l=d(l,p,f,u,r[h+15],22,1236535329),p,f,r[h+1],5,-165796510),f=g(f,u,l,p,r[h+6],9,-1069501632),p=g(p,f,u,l,r[h+11],14,643717713),l=g(l,p,f,u,r[h+0],20,-373897302),u=g(u,l,p,f,r[h+5],5,-701558691),f=g(f,u,l,p,r[h+10],9,38016083),p=g(p,f,u,l,r[h+15],14,-660478335),l=g(l,p,f,u,r[h+4],20,-405537848),u=g(u,l,p,f,r[h+9],5,568446438),f=g(f,u,l,p,r[h+14],9,-1019803690),p=g(p,f,u,l,r[h+3],14,-187363961),l=g(l,p,f,u,r[h+8],20,1163531501),u=g(u,l,p,f,r[h+13],5,-1444681467),f=g(f,u,l,p,r[h+2],9,-51403784),p=g(p,f,u,l,r[h+7],14,1735328473),u=y(u,l=g(l,p,f,u,r[h+12],20,-1926607734),p,f,r[h+5],4,-378558),f=y(f,u,l,p,r[h+8],11,-2022574463),p=y(p,f,u,l,r[h+11],16,1839030562),l=y(l,p,f,u,r[h+14],23,-35309556),u=y(u,l,p,f,r[h+1],4,-1530992060),f=y(f,u,l,p,r[h+4],11,1272893353),p=y(p,f,u,l,r[h+7],16,-155497632),l=y(l,p,f,u,r[h+10],23,-1094730640),u=y(u,l,p,f,r[h+13],4,681279174),f=y(f,u,l,p,r[h+0],11,-358537222),p=y(p,f,u,l,r[h+3],16,-722521979),l=y(l,p,f,u,r[h+6],23,76029189),u=y(u,l,p,f,r[h+9],4,-640364487),f=y(f,u,l,p,r[h+12],11,-421815835),p=y(p,f,u,l,r[h+15],16,530742520),u=m(u,l=y(l,p,f,u,r[h+2],23,-995338651),p,f,r[h+0],6,-198630844),f=m(f,u,l,p,r[h+7],10,1126891415),p=m(p,f,u,l,r[h+14],15,-1416354905),l=m(l,p,f,u,r[h+5],21,-57434055),u=m(u,l,p,f,r[h+12],6,1700485571),f=m(f,u,l,p,r[h+3],10,-1894986606),p=m(p,f,u,l,r[h+10],15,-1051523),l=m(l,p,f,u,r[h+1],21,-2054922799),u=m(u,l,p,f,r[h+8],6,1873313359),f=m(f,u,l,p,r[h+15],10,-30611744),p=m(p,f,u,l,r[h+6],15,-1560198380),l=m(l,p,f,u,r[h+13],21,1309151649),u=m(u,l,p,f,r[h+4],6,-145523070),f=m(f,u,l,p,r[h+11],10,-1120210379),p=m(p,f,u,l,r[h+2],15,718787259),l=m(l,p,f,u,r[h+9],21,-343485551),u=u+w>>>0,l=l+b>>>0,p=p+v>>>0,f=f+x>>>0}return n.endian([u,l,p,f])})._ff=function(t,e,r,n,o,i,a){var s=t+(e&r|~e&n)+(o>>>0)+a;return(s<<i|s>>>32-i)+e},s._gg=function(t,e,r,n,o,i,a){var s=t+(e&n|r&~n)+(o>>>0)+a;return(s<<i|s>>>32-i)+e},s._hh=function(t,e,r,n,o,i,a){var s=t+(e^r^n)+(o>>>0)+a;return(s<<i|s>>>32-i)+e},s._ii=function(t,e,r,n,o,i,a){var s=t+(r^(e|~n))+(o>>>0)+a;return(s<<i|s>>>32-i)+e},s._blocksize=16,s._digestsize=16,t.exports=function(t,e){if(null==t)throw new Error("Illegal argument "+t);var r=n.wordsToBytes(s(t,e));return e&&e.asBytes?r:e&&e.asString?a.bytesToString(r):n.bytesToHex(r)}},function(t,e){t.exports={}},function(t,e,r){var n=r(39);t.exports=function(t,e,r,o){o&&o.enumerable?t[e]=r:n(t,e,r)}},,function(t,e,r){var n,o,i,a=r(276),s=r(12),c=r(30),u=r(39),l=r(29),p=r(181),f=r(180),h=r(184),d=s.WeakMap;if(a||p.state){var g=p.state||(p.state=new d),y=g.get,m=g.has,w=g.set;n=function(t,e){if(m.call(g,t))throw new TypeError("Object already initialized");return e.facade=t,w.call(g,t,e),e},o=function(t){return y.call(g,t)||{}},i=function(t){return m.call(g,t)}}else{var b=f("state");h[b]=!0,n=function(t,e){if(l(t,b))throw new TypeError("Object already initialized");return e.facade=t,u(t,b,e),e},o=function(t){return l(t,b)?t[b]:{}},i=function(t){return l(t,b)}}t.exports={set:n,get:o,has:i,enforce:function(t){return i(t)?o(t):n(t,{})},getterFor:function(t){return function(e){var r;if(!c(e)||(r=o(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return r}}}},function(t,e,r){t.exports=r(309)},,,,,,,,,,,,,,function(t,e,r){"use strict";var n=r(49),o=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n})),this.resolve=n(e),this.reject=n(r)};t.exports.f=function(t){return new o(t)}},function(t,e,r){var n=r(185),o=r(71).f,i=r(39),a=r(29),s=r(270),c=r(33)("toStringTag");t.exports=function(t,e,r,u){if(t){var l=r?t:t.prototype;a(l,c)||o(l,c,{configurable:!0,value:e}),u&&!n&&i(l,"toString",s)}}},function(t,e,r){"use strict";r.r(e),r.d(e,"iMessage",(function(){return p})),r.d(e,"message",(function(){return f}));r(13),r(16);var n=r(344),o=r(1),i=r(335),a=r(366),s=r.n(a),c=r(367),u=r.n(c),l=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a};let p=class extends o.a{constructor(){super(...arguments),this.content="",this.type="error"}render(){const t={"infinity-message":!0,"position-top":"top"===this.type};return o.e`
      <div class=${Object(i.a)(t)}>
        ${this.renderImg()}
        <span>${this.content}</span>
      </div>
    `}renderImg(){return"error"===this.type?o.e`<img .src=${s.a} />`:"warn"===this.type?o.e`<img .src=${u.a} />`:void 0}};p.styles=o.b`
    :host {
      box-sizing: border-box;
      display: flex;
      position: fixed;
      min-width: 330px;
      padding: 0 20px;
      height: 60px;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(255, 255, 255, 1);
      box-shadow: 0px 6px 48px 0px rgba(0, 0, 0, 0.24);
      border-radius: 6px;
      z-index: 99999999999;
    }
    :host([type='top']) {
      width: 100%;
      margin: 0;
      left: 0;
      top: var(--top-bar-height);
      height: auto;
      padding: 5px;
      border-radius: 0;
      background: rgba(95, 92, 92, 0.6);
      color: #fff;
      transform: none;
      transition: all 300ms;
      opacity: 0;
      pointer-events: none;
    }
    :host(.anim[type='top']) {
      opacity: 1;
    }

    .infinity-message {
      display: flex;
      justify-content: center;
      align-items: center;
      width: 100%;
    }
    img {
      width: 20px;
      height: 20px;
      margin-right: 8px;
    }
  `,l([Object(o.g)({type:String})],p.prototype,"content",void 0),l([Object(o.g)({type:String})],p.prototype,"type",void 0),p=l([Object(o.c)("i-message")],p);const f={newInstance:function(t,e=2,r,n){let o;if(document.querySelector("i-message"))return void clearInterval(o);const i=document.createElement("i-message");return i.setAttribute("content",t),i.setAttribute("type",r),document.body.appendChild(i),0!==e&&(o=setTimeout(()=>{document.body.removeChild(i),n&&n()},1e3*e)),i},error:function(t,e,r){n.default.error(t,e),r&&setTimeout(r,e)},success:function(t,e,r){n.default.success(t,e),r&&setTimeout(r,e)},top:function(t,e,r){const n=this.newInstance(t,e,"top",r);setTimeout(()=>null==n?void 0:n.classList.add("anim"))},warn:function(t,e,r){this.newInstance(t,e,"warn",r)}}},function(t,e,r){"use strict";r.d(e,"b",(function(){return n})),r.d(e,"a",(function(){return o})),r.d(e,"d",(function(){return i})),r.d(e,"c",(function(){return a}));r(17);const n=r(0).r?"serviceworker":"background";let o=!1;"background"===n?o="undefined"==typeof ServiceWorkerGlobalScope&&chrome.extension.getBackgroundPage()===window:"serviceworker"===n&&(o="undefined"!=typeof ServiceWorkerGlobalScope);const i={timeout:0,taskId:""},a=()=>(""+Date.now()/1e3/1e5).split(".")[1].substr(0,8)+(""+Math.random()).split(".")[1].substr(0,8).padEnd(8,"0")},,,function(t,e,r){var n=r(185),o=r(84),i=r(33)("toStringTag"),a="Arguments"==o(function(){return arguments}());t.exports=n?o:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?r:a?o(e):"Object"==(n=o(e))&&"function"==typeof e.callee?"Arguments":n}},,function(t,e,r){t.exports=r(313)},function(t,e,r){var n=r(183),o=Math.min;t.exports=function(t){return t>0?o(n(t),9007199254740991):0}},function(t,e,r){var n=r(84),o=r(12);t.exports="process"==n(o.process)},function(t,e,r){"use strict";r.d(e,"a",(function(){return s}));var n=r(7),o=r.n(n),i=(r(13),r(16),r(0));const a={};const s=new class{constructor(){this.request=(t,e)=>((i.n||i.k||i.h)&&e&&e.includes("chrome://favicon/")&&(e=Array.from(new Set(e))).splice(e.findIndex(t=>"chrome://favicon/"===t),1),new o.a((r,n)=>{if(i.r)return void n();let o="";if(i.n){if(o=t.join(",")+(null==e?void 0:e.join(",")),a[o])return void n(new Error("repeat"));a[o]=!0}chrome.permissions.request({permissions:t,origins:e},t=>{i.n&&a[o]&&delete a[o],chrome.runtime.lastError?n(chrome.runtime.lastError):t?r(!0):n(new Error("REJECT"))})})),this.has=(t,e)=>new o.a(r=>{i.r?r(!1):chrome.permissions.contains({permissions:t,origins:e},t=>{r(t)})})}}},function(t,e,r){"use strict";r.d(e,"b",(function(){return o})),r.d(e,"a",(function(){return i}));r(13),r(223),r(17),r(44);var n=r(0);function o(t){return function(e){const r=new Uint8Array((e||40)/2);return window.crypto.getRandomValues(r),t+(new Date).getTime().toString(32)+function(t){let e="";const r="abcdefghijklmnopqrstuvwxyz0123456789";for(let n=0;n<t;n++)e+=r.charAt(Math.floor(Math.random()*r.length));return e}(18)}()}function i(t,e=n.B.lang){const r=this,o=/(\d{1,4})\D+(\d{1,2})\D+(\d{1,4})/;let i,a,s;return o.test(t)?(t.replace(o,(t,n,o,c)=>{4===n.length?(i=n,a=o,s=c):r.isFirstDate(e)?(s=n,a=o,i=c):(s=o,a=n,i=c),"th"===e&&(i=Number(i)-543)}),new Date(`${i}/${a}/${s}`)):null}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,r){var n=r(28),o=r(217),i=r(127),a=r(73),s=r(172),c=r(218),u=function(t,e){this.stopped=t,this.result=e};t.exports=function(t,e,r){var l,p,f,h,d,g,y,m=r&&r.that,w=!(!r||!r.AS_ENTRIES),b=!(!r||!r.IS_ITERATOR),v=!(!r||!r.INTERRUPTED),x=a(e,m,1+w+v),k=function(t){return l&&c(l),new u(!0,t)},_=function(t){return w?(n(t),v?x(t[0],t[1],k):x(t[0],t[1])):v?x(t,k):x(t)};if(b)l=t;else{if("function"!=typeof(p=s(t)))throw TypeError("Target is not iterable");if(o(p)){for(f=0,h=i(t.length);h>f;f++)if((d=_(t[f]))&&d instanceof u)return d;return new u(!1)}l=p.call(t)}for(g=l.next;!(y=g.call(l)).done;){try{d=_(y.value)}catch(t){throw c(l),t}if("object"==typeof d&&d&&d instanceof u)return d}return new u(!1)}},function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},function(t,e,r){var n=r(124),o=r(100),i=r(33)("iterator");t.exports=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[n(t)]}},,,function(t,e,r){var n,o,i=r(12),a=r(178),s=i.process,c=s&&s.versions,u=c&&c.v8;u?o=(n=u.split("."))[0]<4?1:n[0]+n[1]:a&&(!(n=a.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/))&&(o=n[1]),t.exports=o&&+o},function(t,e,r){var n=r(70);t.exports=function(t){return n[t+"Prototype"]}},function(t,e,r){"use strict";r.r(e),r.d(e,"slave",(function(){return s}));r(10),r(13),r(16),r(52);var n=r(7),o=r.n(n),i=r(253),a=r(121);const s=new class{constructor(){if(this.channel=null,this.initResolve=[],this.initReject=[],this.messageScheduler=new i.a,this.initChannel=()=>{"serviceworker"===a.b?this.initServiceworker():"background"===a.b&&this.initBackground()},this.awaitChannel=()=>new o.a(async(t,e)=>{"serviceworker"===a.b?this.channel?(await this.channel.active,await this.channel.controlling,t(null)):(this.initResolve.push(t),this.initReject.push(e)):"background"===a.b&&t(null)}),this.initServiceworker=async()=>{try{const{createWorkBox:t}=await r.e(11).then(r.bind(null,462)),e=await t();if(!e)return;e.addEventListener("message",t=>{const{type:e,payload:r={}}=t.data;"master:bordcast-message"===e&&this.messageScheduler.execTask(r.type,r.payload)}),await e.active,await e.controlling,this.channel=e,this.initResolve.forEach(t=>{t()}),this.channel.postTask=this.channel.messageSW}catch(t){console.log("slave初始化错误：",t),this.initReject.forEach(t=>{t()})}},this.initBackground=()=>{this.channel={postTask:t=>new o.a((e,r)=>{chrome.runtime.sendMessage(t,t=>{chrome.runtime.lastError&&r(chrome.runtime.lastError),e(t)})})},chrome.runtime.onMessage.addListener(({type:t,payload:e,ignoreId:r})=>{"master:bordcast-message"===t?chrome.tabs.getCurrent(t=>{r!==t.id&&this.messageScheduler.execTask(e.type,e.payload)}):"slave:bordcast-message"===t&&this.messageScheduler.execTask(e.data.type,e.data.payload)})},a.a)throw new Error("it's not page");this.initChannel()}postTask(t,e,r){return new o.a(async(n,o)=>{let i=!1;await this.awaitChannel();const s=Object.assign(Object.assign(Object.assign({},a.d),{taskId:Object(a.c)()}),r);s.timeout&&setTimeout(()=>{i||n({error:"timeout"})},s.timeout);try{const r=await this.channel.postTask({type:t,payload:Object.assign({data:e},s)});i=!0,n(r)}catch(t){n({error:t})}})}listenMessage(t,e){this.messageScheduler.listenTask(t,e)}sendMessage(t,e=""){this.postTask("slave:bordcast-message",{type:t,payload:e})}}},function(t,e,r){var n=r(83);t.exports=n("navigator","userAgent")||""},function(t,e,r){var n=r(29),o=r(72),i=r(180),a=r(262),s=i("IE_PROTO"),c=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=o(t),n(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?c:null}},function(t,e,r){var n=r(201),o=r(202),i=n("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},function(t,e,r){var n=r(12),o=r(261),i=n["__core-js_shared__"]||o("__core-js_shared__",{});t.exports=i},function(t,e,r){var n=r(28),o=r(263);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),e=r instanceof Array}catch(t){}return function(r,i){return n(r),o(i),e?t.call(r,i):r.__proto__=i,r}}():void 0)},function(t,e){var r=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:r)(t)}},function(t,e){t.exports={}},function(t,e,r){var n={};n[r(33)("toStringTag")]="z",t.exports="[object z]"===String(n)},function(t,e,r){var n,o=r(28),i=r(215),a=r(203),s=r(184),c=r(204),u=r(97),l=r(180),p=l("IE_PROTO"),f=function(){},h=function(t){return"<script>"+t+"<\/script>"},d=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;d=n?function(t){t.write(h("")),t.close();var e=t.parentWindow.Object;return t=null,e}(n):((e=u("iframe")).style.display="none",c.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(h("document.F=Object")),t.close(),t.F);for(var r=a.length;r--;)delete d.prototype[a[r]];return d()};s[p]=!0,t.exports=Object.create||function(t,e){var r;return null!==t?(f.prototype=o(t),r=new f,f.prototype=null,r[p]=t):r=d(),void 0===e?r:i(r,e)}},function(t,e){t.exports=function(t,e,r){if(!(t instanceof e))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return t}},function(t,e,r){"use strict";r.r(e),r.d(e,"imgConfig",(function(){return c})),r.d(e,"getRandomWallpaper",(function(){return u})),r.d(e,"getBingWallpaper",(function(){return l})),r.d(e,"getWallpapers",(function(){return p})),r.d(e,"likeWallpaper",(function(){return f})),r.d(e,"collectionWallpaper",(function(){return h})),r.d(e,"addCustomColor",(function(){return d})),r.d(e,"setCustomColorItems",(function(){return g})),r.d(e,"getCustomColor",(function(){return y})),r.d(e,"removeCustomColor",(function(){return m})),r.d(e,"uploadWallpaper",(function(){return w})),r.d(e,"getWallpapersById",(function(){return b})),r.d(e,"createWallpaperLibrary",(function(){return v})),r.d(e,"getUserWallpaperLibrary",(function(){return x})),r.d(e,"hasWallpaperLibrary",(function(){return k})),r.d(e,"getLikedWallpaper",(function(){return _})),r.d(e,"getCollectionWallpaper",(function(){return S})),r.d(e,"getWallpaperLibraryItems",(function(){return T})),r.d(e,"getUserWallpaperLibraryItemsById",(function(){return j})),r.d(e,"removeWallpaperLibraryItem",(function(){return A})),r.d(e,"removeWallpaperLibrary",(function(){return E})),r.d(e,"addImagesToLibrary",(function(){return O})),r.d(e,"renameWallpaperLibrary",(function(){return I})),r.d(e,"getNextWallpaper",(function(){return L})),r.d(e,"convertURL",(function(){return R}));r(10),r(52);var n=r(0),o=r(4),i=r(23);const a=Math.floor(screen.width*window.devicePixelRatio),s=Math.floor(203*window.devicePixelRatio),c={smallWidth:s>2560?2560:s,normalWidth:a>2560?2560:a,format:i.c?"":"format/webp/"},u=async()=>{try{const t=await o.a.get(n.v+"/random-wallpaper",{_:(new Date).getTime()});if(!t.success)throw t;const{src:e,_id:r,source:i}=t.data[0],{url:a,rawUrl:s}=R(e.rawSrc);return{data:{url:a,rawUrl:s,id:r,source:i}}}catch(t){return{error:t}}},l=async()=>{try{const t=await o.a.get(n.w+"/get_bing_wallpaper",null,{_single:"getBingWallpaper"});if(t.error)throw t.error;const{data:e}=t,{content:r,url:i,rawUrl:a}=R(e.src.rawSrc);return e.thumbnail=r,e.url=i,e.rawUrl=a,t}catch(t){return{error:t}}},p=async t=>{const{source:e}=t;t.source="all"===e?"":e;try{const e=await o.a.get(n.v+"/get-wallpaper",t,{_single:"getWallpapers"}),{data:r}=e;return r.forEach(t=>{const{content:e,url:r,rawUrl:n}=R(t.src.rawSrc);t.thumbnail=e,t.url=r,t.rawUrl=n}),{result:e}}catch(t){return{error:t}}},f=async(t,e)=>{try{const r=await o.a.post(n.w+"/like_wallpaper",{id:t,state:e},{_auth:!0});if(0!==r.code)throw r;return r}catch(t){return{error:t}}},h=async(t,e)=>{try{const r=await o.a.post(n.w+"/collection_wallpaper",{id:t,state:e},{_auth:!0});if(0!==r.code)throw r;return r}catch(t){return{error:t}}},d=async t=>{try{const e=await o.a.post(n.w+"/add_custom_color",Object.assign(Object.assign({},t),{newVer:!0}),{_auth:!0});if(0!==e.code)throw e;return e}catch(t){return{error:t}}},g=async t=>{try{const e=await o.a.post(n.w+"/set_custom_color_items",t,{_auth:!0});if(0!==e.code)throw e;return e}catch(t){return{error:t}}},y=async()=>{try{const t=await o.a.get(n.w+"/get_custom_color",null,{_auth:!0});if(0!==t.code)throw t;return t}catch(t){return{error:t}}},m=async t=>{try{const e=await o.a.post(n.w+"/remove_custom_color",{id:t,newVer:!0},{_auth:!0});if(0!==e.code)throw e;return e}catch(t){return{error:t}}},w=async t=>{try{const e=await o.a.post(n.w+"/upload_wallpaper",t,{headers:{"Content-Type":"multipart/form-data"}});if(0!==e.code)throw e;return{data:e.data}}catch(t){return{error:t}}},b=async t=>{try{const e=await o.a.get(n.w+"/get_wallpapers_by_id",{id:t});if(0!==e.code)throw e;const{data:r}=e;return r.forEach(t=>{const{content:e,url:r,rawUrl:n}=R(t.src.rawSrc);t.thumbnail=e,t.url=r,t.rawUrl=n}),{data:r}}catch(t){return{error:t}}},v=async({libraryName:t,libraryId:e,wallpapers:r})=>{try{return await o.a.post(n.w+"/create_wallpaper_library",{libraryName:t,libraryId:e,wallpapers:r},{_auth:!0})}catch(t){return{error:t}}},x=async()=>await o.a.get(n.w+"/get_user_wallpaper_library",null,{_auth:!0}),k=async t=>{try{return await o.a.get(n.w+"/has_wallpaper_library",{libraryId:t},{_auth:!0,_proxy:!0})}catch(t){return{error:t}}},_=async()=>{try{return await o.a.get(n.w+"/get_liked_wallpaper",null,{_auth:!0})}catch(t){return{error:t}}},S=async()=>{try{return await o.a.get(n.w+"/get_collection_wallpaper",null,{_auth:!0})}catch(t){return{error:t}}},T=async t=>{const e=await o.a.get(n.w+"/get_user_wallpaper_library_items",{libraryId:t});e.data.map(t=>{const{content:e,url:r,rawUrl:n}=R(t.url);return t.content=e,t.url=r,t.rawUrl=n,t});const{data:r}=e;return e.data={items:r,count:r.length},e.data},j=async t=>{try{const e=await o.a.get(n.w+"/get_user_wallpaper_library_items_by_id",{libraryItemsId:t}),{data:r}=e;return e.data={items:r,count:r.length},e.data}catch(t){return{error:t}}},A=async(t,e,r)=>{try{return await o.a.post(n.w+"/remove_wallpaper_library_item",{libraryId:t,libraryItemId:e,ext:r},{_auth:!0})}catch(t){return{error:t}}},E=async t=>{try{return await o.a.post(n.w+"/remove_wallpaper_library",{libraryId:t},{_auth:!0})}catch(t){return{error:t}}},O=async(t,e)=>{try{return await o.a.post(n.w+"/add_images_to_library",{libraryId:t,wallpapers:e},{_auth:!0})}catch(t){return{error:t}}},I=async(t,e)=>{try{return await o.a.post(n.w+"/rename_wallpaper_library",{libraryId:t,libraryName:e},{_auth:!0})}catch(t){return{error:t}}},L=async(t,e,r="library")=>{const i={source:t,type:r};e&&(i._id=e);const a=await o.a.get(n.w+"/get_next_wallpaper",i,{_single:"getNextWallpaper"});if(0!==a.code)throw new Error;const{data:s}=a,{content:c,url:u,rawUrl:l}=R(s.rawUrl);return s.thumbnail=c,s.url=u,s.rawUrl=l,a},R=t=>({rawUrl:t,url:`${t}?imageView2/2/w/${c.normalWidth}/${c.format}interlace/1`,content:`${t}?imageView2/2/w/${c.smallWidth}/${c.format}interlace/1`})},function(t,e,r){"use strict";var n=r(82),o=r(279),i=r(100),a=r(103),s=r(213),c=a.set,u=a.getterFor("Array Iterator");t.exports=s(Array,"Array",(function(t,e){c(this,{type:"Array Iterator",target:n(t),index:0,kind:e})}),(function(){var t=u(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},,,,function(t,e,r){var n=r(28),o=r(49),i=r(33)("species");t.exports=function(t,e){var r,a=n(t).constructor;return void 0===a||null==(r=n(a)[i])?e:o(r)}},function(t,e,r){var n=r(183),o=r(68),i=function(t){return function(e,r){var i,a,s=String(o(e)),c=n(r),u=s.length;return c<0||c>=u?t?"":void 0:(i=s.charCodeAt(c))<55296||i>56319||c+1===u||(a=s.charCodeAt(c+1))<56320||a>57343?t?s.charAt(c):i:t?s.slice(c,c+2):a-56320+(i-55296<<10)+65536}};t.exports={codeAt:i(!1),charAt:i(!0)}},function(t,e,r){"use strict";var n=r(214).IteratorPrototype,o=r(186),i=r(47),a=r(119),s=r(100),c=function(){return this};t.exports=function(t,e,r){var u=e+" Iterator";return t.prototype=o(n,{next:i(1,r)}),a(t,u,!1,!0),s[u]=c,t}},function(t,e,r){"use strict";r.d(e,"i",(function(){return o})),r.d(e,"b",(function(){return i})),r.d(e,"a",(function(){return a})),r.d(e,"c",(function(){return s})),r.d(e,"h",(function(){return c})),r.d(e,"g",(function(){return u})),r.d(e,"e",(function(){return l})),r.d(e,"d",(function(){return p})),r.d(e,"f",(function(){return f}));var n=r(0);const o=.5;function i(t){return`https://chrome.google.com/webstore/detail/infinity-new-tab-producti/${t}/reviews?utm_source=infinity-rate`}const a="https://addons.mozilla.org/"+n.B.lang+"/firefox/addon/infinity-new-tab-firefox/";function s(t){return"https://microsoftedge.microsoft.com/addons/detail/infinity-new-tab-produc/"+t}const c="privacy_data_uninstall_title",u="privacy_data_uninstall_confirm",l=!0,p=()=>{chrome.runtime.setUninstallURL("https://uninstall.infinitynewtab.com/?from="+n.c)},f="https://infinityicon.infinitynewtab.com/assets/logo-basic.png"},,,,function(t,e,r){"use strict";var n=r(27),o=r(179),i=r(182),a=r(186),s=r(39),c=r(47),u=r(170),l=function(t,e){var r=this;if(!(r instanceof l))return new l(t,e);i&&(r=i(new Error(void 0),o(r))),void 0!==e&&s(r,"message",String(e));var n=[];return u(t,n.push,{that:n}),s(r,"errors",n),r};l.prototype=a(Error.prototype,{constructor:c(5,l),message:c(5,""),name:c(5,"AggregateError")}),n({global:!0},{AggregateError:l})},function(t,e,r){var n=r(96),o=r(181);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.15.2",mode:n?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(t,e){var r=0,n=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++r+n).toString(36)}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,r){var n=r(83);t.exports=n("document","documentElement")},function(t,e,r){var n=r(175),o=r(18);t.exports=!!Object.getOwnPropertySymbols&&!o((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},function(t,e,r){var n=r(12);t.exports=n.Promise},function(t,e,r){var n=r(181),o=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(t){return o.call(t)}),t.exports=n.inspectSource},function(t,e,r){var n,o,i,a=r(12),s=r(18),c=r(73),u=r(204),l=r(97),p=r(209),f=r(128),h=a.location,d=a.setImmediate,g=a.clearImmediate,y=a.process,m=a.MessageChannel,w=a.Dispatch,b=0,v={},x=function(t){if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},k=function(t){return function(){x(t)}},_=function(t){x(t.data)},S=function(t){a.postMessage(t+"",h.protocol+"//"+h.host)};d&&g||(d=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return v[++b]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},n(b),b},g=function(t){delete v[t]},f?n=function(t){y.nextTick(k(t))}:w&&w.now?n=function(t){w.now(k(t))}:m&&!p?(i=(o=new m).port2,o.port1.onmessage=_,n=c(i.postMessage,i,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts&&h&&"file:"!==h.protocol&&!s(S)?(n=S,a.addEventListener("message",_,!1)):n="onreadystatechange"in l("script")?function(t){u.appendChild(l("script")).onreadystatechange=function(){u.removeChild(this),x(t)}}:function(t){setTimeout(k(t),0)}),t.exports={set:d,clear:g}},function(t,e,r){var n=r(178);t.exports=/(?:iphone|ipod|ipad).*applewebkit/i.test(n)},function(t,e,r){var n=r(28),o=r(30),i=r(118);t.exports=function(t,e){if(n(t),o(e)&&e.constructor===t)return e;var r=i.f(t);return(0,r.resolve)(e),r.promise}},function(t,e,r){"use strict";var n=r(27),o=r(49),i=r(118),a=r(171),s=r(170);n({target:"Promise",stat:!0},{allSettled:function(t){var e=this,r=i.f(e),n=r.resolve,c=r.reject,u=a((function(){var r=o(e.resolve),i=[],a=0,c=1;s(t,(function(t){var o=a++,s=!1;i.push(void 0),c++,r.call(e,t).then((function(t){s||(s=!0,i[o]={status:"fulfilled",value:t},--c||n(i))}),(function(t){s||(s=!0,i[o]={status:"rejected",reason:t},--c||n(i))}))})),--c||n(i)}));return u.error&&c(u.value),r.promise}})},function(t,e,r){"use strict";var n=r(27),o=r(49),i=r(83),a=r(118),s=r(171),c=r(170);n({target:"Promise",stat:!0},{any:function(t){var e=this,r=a.f(e),n=r.resolve,u=r.reject,l=s((function(){var r=o(e.resolve),a=[],s=0,l=1,p=!1;c(t,(function(t){var o=s++,c=!1;a.push(void 0),l++,r.call(e,t).then((function(t){c||p||(p=!0,n(t))}),(function(t){c||p||(c=!0,a[o]=t,--l||u(new(i("AggregateError"))(a,"No one promise resolved")))}))})),--l||u(new(i("AggregateError"))(a,"No one promise resolved"))}));return l.error&&u(l.value),r.promise}})},function(t,e,r){"use strict";var n=r(27),o=r(195),i=r(179),a=r(182),s=r(119),c=r(39),u=r(101),l=r(33),p=r(96),f=r(100),h=r(214),d=h.IteratorPrototype,g=h.BUGGY_SAFARI_ITERATORS,y=l("iterator"),m=function(){return this};t.exports=function(t,e,r,l,h,w,b){o(r,e,l);var v,x,k,_=function(t){if(t===h&&E)return E;if(!g&&t in j)return j[t];switch(t){case"keys":case"values":case"entries":return function(){return new r(this,t)}}return function(){return new r(this)}},S=e+" Iterator",T=!1,j=t.prototype,A=j[y]||j["@@iterator"]||h&&j[h],E=!g&&A||_(h),O="Array"==e&&j.entries||A;if(O&&(v=i(O.call(new t)),d!==Object.prototype&&v.next&&(p||i(v)===d||(a?a(v,d):"function"!=typeof v[y]&&c(v,y,m)),s(v,S,!0,!0),p&&(f[S]=m))),"values"==h&&A&&"values"!==A.name&&(T=!0,E=function(){return A.call(this)}),p&&!b||j[y]===E||c(j,y,E),f[e]=E,h)if(x={values:_("values"),keys:w?E:_("keys"),entries:_("entries")},b)for(k in x)(g||T||!(k in j))&&u(j,k,x[k]);else n({target:e,proto:!0,forced:g||T},x);return x}},function(t,e,r){"use strict";var n,o,i,a=r(18),s=r(179),c=r(39),u=r(29),l=r(33),p=r(96),f=l("iterator"),h=!1;[].keys&&("next"in(i=[].keys())?(o=s(s(i)))!==Object.prototype&&(n=o):h=!0);var d=null==n||a((function(){var t={};return n[f].call(t)!==t}));d&&(n={}),p&&!d||u(n,f)||c(n,f,(function(){return this})),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:h}},function(t,e,r){var n=r(25),o=r(71),i=r(28),a=r(216);t.exports=n?Object.defineProperties:function(t,e){i(t);for(var r,n=a(e),s=n.length,c=0;s>c;)o.f(t,r=n[c++],e[r]);return t}},function(t,e,r){var n=r(264),o=r(203);t.exports=Object.keys||function(t){return n(t,o)}},function(t,e,r){var n=r(33),o=r(100),i=n("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||a[i]===t)}},function(t,e,r){var n=r(28);t.exports=function(t){var e=t.return;if(void 0!==e)return n(e.call(t)).value}},function(t,e,r){var n=r(101);t.exports=function(t,e,r){for(var o in e)r&&r.unsafe&&t[o]?t[o]=e[o]:n(t,o,e[o],r);return t}},function(t,e,r){"use strict";var n=r(194).charAt,o=r(103),i=r(213),a=o.set,s=o.getterFor("String Iterator");i(String,"String",(function(t){a(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=s(this),r=e.string,o=e.index;return o>=r.length?{value:void 0,done:!0}:(t=n(r,o),e.index+=t.length,{value:t,done:!1})}))},function(t,e,r){"use strict";r(189);var n=r(27),o=r(83),i=r(222),a=r(101),s=r(219),c=r(119),u=r(195),l=r(103),p=r(187),f=r(29),h=r(73),d=r(124),g=r(28),y=r(30),m=r(186),w=r(47),b=r(296),v=r(172),x=r(33),k=o("fetch"),_=o("Headers"),S=x("iterator"),T=l.set,j=l.getterFor("URLSearchParams"),A=l.getterFor("URLSearchParamsIterator"),E=/\+/g,O=Array(4),I=function(t){return O[t-1]||(O[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},L=function(t){try{return decodeURIComponent(t)}catch(e){return t}},R=function(t){var e=t.replace(E," "),r=4;try{return decodeURIComponent(e)}catch(t){for(;r;)e=e.replace(I(r--),L);return e}},P=/[!'()~]|%20/g,C={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},U=function(t){return C[t]},M=function(t){return encodeURIComponent(t).replace(P,U)},B=function(t,e){if(e)for(var r,n,o=e.split("&"),i=0;i<o.length;)(r=o[i++]).length&&(n=r.split("="),t.push({key:R(n.shift()),value:R(n.join("="))}))},q=function(t){this.entries.length=0,B(this.entries,t)},$=function(t,e){if(t<e)throw TypeError("Not enough arguments")},D=u((function(t,e){T(this,{type:"URLSearchParamsIterator",iterator:b(j(t).entries),kind:e})}),"Iterator",(function(){var t=A(this),e=t.kind,r=t.iterator.next(),n=r.value;return r.done||(r.value="keys"===e?n.key:"values"===e?n.value:[n.key,n.value]),r})),F=function(){p(this,F,"URLSearchParams");var t,e,r,n,o,i,a,s,c,u=arguments.length>0?arguments[0]:void 0,l=this,h=[];if(T(l,{type:"URLSearchParams",entries:h,updateURL:function(){},updateSearchParams:q}),void 0!==u)if(y(u))if("function"==typeof(t=v(u)))for(r=(e=t.call(u)).next;!(n=r.call(e)).done;){if((a=(i=(o=b(g(n.value))).next).call(o)).done||(s=i.call(o)).done||!i.call(o).done)throw TypeError("Expected sequence with length 2");h.push({key:a.value+"",value:s.value+""})}else for(c in u)f(u,c)&&h.push({key:c,value:u[c]+""});else B(h,"string"==typeof u?"?"===u.charAt(0)?u.slice(1):u:u+"")},N=F.prototype;s(N,{append:function(t,e){$(arguments.length,2);var r=j(this);r.entries.push({key:t+"",value:e+""}),r.updateURL()},delete:function(t){$(arguments.length,1);for(var e=j(this),r=e.entries,n=t+"",o=0;o<r.length;)r[o].key===n?r.splice(o,1):o++;e.updateURL()},get:function(t){$(arguments.length,1);for(var e=j(this).entries,r=t+"",n=0;n<e.length;n++)if(e[n].key===r)return e[n].value;return null},getAll:function(t){$(arguments.length,1);for(var e=j(this).entries,r=t+"",n=[],o=0;o<e.length;o++)e[o].key===r&&n.push(e[o].value);return n},has:function(t){$(arguments.length,1);for(var e=j(this).entries,r=t+"",n=0;n<e.length;)if(e[n++].key===r)return!0;return!1},set:function(t,e){$(arguments.length,1);for(var r,n=j(this),o=n.entries,i=!1,a=t+"",s=e+"",c=0;c<o.length;c++)(r=o[c]).key===a&&(i?o.splice(c--,1):(i=!0,r.value=s));i||o.push({key:a,value:s}),n.updateURL()},sort:function(){var t,e,r,n=j(this),o=n.entries,i=o.slice();for(o.length=0,r=0;r<i.length;r++){for(t=i[r],e=0;e<r;e++)if(o[e].key>t.key){o.splice(e,0,t);break}e===r&&o.push(t)}n.updateURL()},forEach:function(t){for(var e,r=j(this).entries,n=h(t,arguments.length>1?arguments[1]:void 0,3),o=0;o<r.length;)n((e=r[o++]).value,e.key,this)},keys:function(){return new D(this,"keys")},values:function(){return new D(this,"values")},entries:function(){return new D(this,"entries")}},{enumerable:!0}),a(N,S,N.entries),a(N,"toString",(function(){for(var t,e=j(this).entries,r=[],n=0;n<e.length;)t=e[n++],r.push(M(t.key)+"="+M(t.value));return r.join("&")}),{enumerable:!0}),c(F,"URLSearchParams"),n({global:!0,forced:!i},{URLSearchParams:F}),i||"function"!=typeof k||"function"!=typeof _||n({global:!0,enumerable:!0,forced:!0},{fetch:function(t){var e,r,n,o=[t];return arguments.length>1&&(y(e=arguments[1])&&(r=e.body,"URLSearchParams"===d(r)&&((n=e.headers?new _(e.headers):new _).has("content-type")||n.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),e=m(e,{body:w(0,String(r)),headers:w(0,n)}))),o.push(e)),k.apply(this,o)}}),t.exports={URLSearchParams:F,getState:j}},function(t,e,r){var n=r(18),o=r(33),i=r(96),a=o("iterator");t.exports=!n((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,r="";return t.pathname="c%20d",e.forEach((function(t,n){e.delete("b"),r+=n+t})),i&&!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host}))},function(t,e,r){"use strict";var n=r(298),o=r(3),i=r(6),a=r(37),s=r(45),c=r(300),u=r(301),l=r(302),p=r(77),f=r(303),h=n.aTypedArray,d=n.exportTypedArrayMethod,g=o.Uint16Array,y=g&&g.prototype.sort,m=!!y&&!i((function(){var t=new g(2);t.sort(null),t.sort({})})),w=!!y&&!i((function(){if(p)return p<74;if(u)return u<67;if(l)return!0;if(f)return f<602;var t,e,r=new g(516),n=Array(516);for(t=0;t<516;t++)e=t%4,r[t]=515-t,n[t]=t-2*e+3;for(r.sort((function(t,e){return(t/4|0)-(e/4|0)})),t=0;t<516;t++)if(r[t]!==n[t])return!0}));d("sort",(function(t){if(void 0!==t&&a(t),w)return y.call(this,t);h(this);var e,r=s(this.length),n=Array(r);for(e=0;e<r;e++)n[e]=this[e];for(n=c(this,function(t){return function(e,r){return void 0!==t?+t(e,r)||0:r!=r?-1:e!=e?1:0===e&&0===r?1/e>0&&1/r<0?1:-1:e>r}}(t)),e=0;e<r;e++)this[e]=n[e];return this}),!w||m)},function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(t,e,r){"use strict";(function(t){r.d(e,"a",(function(){return h}));r(285),r(17),r(44),r(306);var n=r(227),o=r.n(n),i=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,a=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,s=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function c(t){return(t||"").toString().replace(s,"")}var u=[["#","hash"],["?","query"],function(t){return t.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],l={hash:1,query:1};function p(e){var r,n=("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{}).location||{},o={},a=typeof(e=e||n);if("blob:"===e.protocol)o=new h(unescape(e.pathname),{});else if("string"===a)for(r in o=new h(e,{}),l)delete o[r];else if("object"===a){for(r in e)r in l||(o[r]=e[r]);void 0===o.slashes&&(o.slashes=i.test(e.href))}return o}function f(t){t=c(t);var e=a.exec(t);return{protocol:e[1]?e[1].toLowerCase():"",slashes:!!e[2],rest:e[3]}}function h(t,e){t=c(t);var r,n,i,a,s,l,h=u.slice(),d=this,g=0;for(e=p(e),r=!(n=f(t||"")).protocol&&!n.slashes,d.slashes=n.slashes||r&&e.slashes,d.protocol=n.protocol||e.protocol||"",t=n.rest,n.slashes||(h[3]=[/(.*)/,"pathname"]);g<h.length;g++)"function"!=typeof(a=h[g])?(i=a[0],l=a[1],i!=i?d[l]=t:"string"==typeof i?~(s=t.indexOf(i))&&("number"==typeof a[2]?(d[l]=t.slice(0,s),t=t.slice(s+a[2])):(d[l]=t.slice(s),t=t.slice(0,s))):(s=i.exec(t))&&(d[l]=s[1],t=t.slice(0,s.index)),d[l]=d[l]||r&&a[3]&&e[l]||"",a[4]&&(d[l]=d[l].toLowerCase())):t=a(t);r&&e.slashes&&"/"!==d.pathname.charAt(0)&&(""!==d.pathname||""!==e.pathname)&&(d.pathname=function(t,e){if(""===t)return e;for(var r=(e||"/").split("/").slice(0,-1).concat(t.split("/")),n=r.length,o=r[n-1],i=!1,a=0;n--;)"."===r[n]?r.splice(n,1):".."===r[n]?(r.splice(n,1),a++):a&&(0===n&&(i=!0),r.splice(n,1),a--);return i&&r.unshift(""),"."!==o&&".."!==o||r.push(""),r.join("/")}(d.pathname,e.pathname)),o()(d.port,d.protocol)||(d.host=d.hostname,d.port=""),d.username=d.password="",d.auth&&(a=d.auth.split(":"),d.username=a[0]||"",d.password=a[1]||""),d.origin=d.protocol&&d.host&&"file:"!==d.protocol?d.protocol+"//"+d.host:"null",d.href=d.toString()}h.prototype={toString:function(){var t,e=this,r=e.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var n=r+(e.slashes?"//":"");return e.username&&(n+=e.username,e.password&&(n+=":"+e.password),n+="@"),n+=e.host+e.pathname,(t=e.query)&&(n+="?"!==t.charAt(0)?"?"+t:t),e.hash&&(n+=e.hash),n}},h.extractProtocol=f,h.location=p,h.trimLeft=c}).call(this,r(51))},function(t,e,r){"use strict";t.exports=function(t,e){if(e=e.split(":")[0],!(t=+t))return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}},,,,,,,,,,,function(t,e,r){r(189);var n=r(280),o=r(12),i=r(124),a=r(39),s=r(100),c=r(33)("toStringTag");for(var u in n){var l=o[u],p=l&&l.prototype;p&&i(p)!==c&&a(p,c,u),s[u]=s.Array}},function(t,e){var r=1;function n(t){var e=[];for(var r in t)e.push(encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e.join("&")}t.exports=function(t){return new Promise((function(e,o){var i=document.createElement("script"),a=t.url;if(t.params){var s=n(t.params);s&&(a+=(a.indexOf("?")>=0?"&":"?")+s)}function c(){i&&(i.onload=i.onreadystatechange=i.onerror=null,i.parentNode&&i.parentNode.removeChild(i),i=null)}i.async=!0;var u="axiosJsonpCallback"+r++,l=window[u],p=!1;window[u]=function(t){(window[u]=l,p)||e({data:t,status:200})};var f={_:(new Date).getTime()};f[t.callbackParamName||"callback"]=u,a+=(a.indexOf("?")>=0?"&":"?")+n(f),i.onload=i.onreadystatechange=function(){i.readyState&&!/loaded|complete/.test(i.readyState)||c()},i.onerror=function(){c(),o(new Error("Network Error"))},t.cancelToken&&t.cancelToken.promise.then((function(t){i&&(p=!0,o(t))})),i.src=a,document.head.appendChild(i)}))}},,,function(t,e,r){"use strict";r.d(e,"a",(function(){return s}));var n=r(8);const o=Symbol("LitMobxRenderReaction"),i=Symbol("LitMobxRequestUpdate");var a=r(1);class s extends(function(t){var e,r;return r=class extends t{constructor(){super(...arguments),this[e]=()=>{this.requestUpdate()}}connectedCallback(){super.connectedCallback();const t=this.constructor.name||this.nodeName;this[o]=new n.a(t+".update()",this[i]),this.hasUpdated&&this.requestUpdate()}disconnectedCallback(){super.disconnectedCallback(),this[o]&&(this[o].dispose(),this[o]=void 0)}update(t){this[o]?this[o].track(super.update.bind(this,t)):super.update(t)}},e=i,r}(a.a)){}},,function(t,e,r){"use strict";var n=r(18);t.exports=function(t,e){var r=[][t];return!!r&&n((function(){r.call(null,e||function(){throw 1},1)}))}},function(t,e,r){t.exports=r(349)},function(t,e,r){var n=r(49),o=r(72),i=r(98),a=r(127),s=function(t){return function(e,r,s,c){n(r);var u=o(e),l=i(u),p=a(u.length),f=t?p-1:0,h=t?-1:1;if(s<2)for(;;){if(f in l){c=l[f],f+=h;break}if(f+=h,t?f<0:p<=f)throw TypeError("Reduce of empty array with no initial value")}for(;t?f>=0:p>f;f+=h)f in l&&(c=r(c,l[f],f,u));return c}};t.exports={left:s(!1),right:s(!0)}},,,,,function(t,e,r){"use strict";r.r(e),r.d(e,"uploadFile",(function(){return s}));r(10);var n=r(0),o=r(4);const i=["infinity-notes-img","custom-wallpaper-library"],a={},s=async(t,e,r)=>{let s;try{if(a[r]&&a[r].endTime>Date.now())s=a[r];else{let t=null;if(t=i.includes(r)?await o.a.get(n.w+"/upload/public_private_token",{type:r},{_auth:!0}):await o.a.get(n.w+"/upload/token",{type:r}),0!==t.code||!t.data.token)return{error:t};s=t.data,s.endTime=Date.now()+1e3*(s.expires-600),a[r]=s}const{token:c,prefix:u}=s,l=new FormData;l.append("token",c),l.append("key",u+e),l.append("file",t,e);const{key:p,url:f}=await o.a.post(s.host,l,{timeout:18e4,headers:{"Content-Type":"multipart/form-data"}});return{data:{url:f,key:p}}}catch(t){return{error:t}}}},function(t,e){var r={utf8:{stringToBytes:function(t){return r.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(r.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],r=0;r<t.length;r++)e.push(255&t.charCodeAt(r));return e},bytesToString:function(t){for(var e=[],r=0;r<t.length;r++)e.push(String.fromCharCode(t[r]));return e.join("")}}};t.exports=r},function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));r(13),r(16);class n{constructor(){this._events=new Map}listenTask(t,e){if("function"!=typeof e)return;this._events.has(t)||this._events.set(t,new Set);this._events.get(t).add(e)}execTask(t,e,...r){if(this._events.has(t)){const n=this._events.get(t);for(const t of n)t(e,...r)}}}},function(t,e,r){"use strict";var n=r(255).forEach,o=r(258)("forEach");t.exports=o?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},function(t,e,r){var n=r(74),o=r(106),i=r(50),a=r(45),s=r(256),c=[].push,u=function(t){var e=1==t,r=2==t,u=3==t,l=4==t,p=6==t,f=7==t,h=5==t||p;return function(d,g,y,m){for(var w,b,v=i(d),x=o(v),k=n(g,y,3),_=a(x.length),S=0,T=m||s,j=e?T(d,_):r||f?T(d,0):void 0;_>S;S++)if((h||S in x)&&(b=k(w=x[S],S,v),t))if(e)j[S]=b;else if(b)switch(t){case 3:return!0;case 5:return w;case 6:return S;case 2:c.call(j,w)}else switch(t){case 4:return!1;case 7:c.call(j,w)}return p?-1:u||l?l:j}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterOut:u(7)}},function(t,e,r){var n=r(15),o=r(257),i=r(5)("species");t.exports=function(t,e){var r;return o(t)&&("function"!=typeof(r=t.constructor)||r!==Array&&!o(r.prototype)?n(r)&&null===(r=r[i])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===e?0:e)}},function(t,e,r){var n=r(34);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e,r){"use strict";var n=r(6);t.exports=function(t,e){var r=[][t];return!!r&&n((function(){r.call(null,e||function(){throw 1},1)}))}},function(t,e,r){var n=r(260);r(281),r(282),r(283),r(284),t.exports=n},function(t,e,r){r(200),r(268),r(269),r(211),r(212),r(278),r(220),r(238);var n=r(70);t.exports=n.Promise},function(t,e,r){var n=r(12),o=r(39);t.exports=function(t,e){try{o(n,t,e)}catch(r){n[t]=e}return e}},function(t,e,r){var n=r(18);t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,r){var n=r(30);t.exports=function(t){if(!n(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e,r){var n=r(29),o=r(82),i=r(265).indexOf,a=r(184);t.exports=function(t,e){var r,s=o(t),c=0,u=[];for(r in s)!n(a,r)&&n(s,r)&&u.push(r);for(;e.length>c;)n(s,r=e[c++])&&(~i(u,r)||u.push(r));return u}},function(t,e,r){var n=r(82),o=r(127),i=r(266),a=function(t){return function(e,r,a){var s,c=n(e),u=o(c.length),l=i(a,u);if(t&&r!=r){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===r)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},function(t,e,r){var n=r(183),o=Math.max,i=Math.min;t.exports=function(t,e){var r=n(t);return r<0?o(r+e,0):i(r,e)}},function(t,e,r){var n=r(205);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e){},function(t,e,r){"use strict";var n,o,i,a,s=r(27),c=r(96),u=r(12),l=r(83),p=r(206),f=r(101),h=r(219),d=r(182),g=r(119),y=r(271),m=r(30),w=r(49),b=r(187),v=r(207),x=r(170),k=r(272),_=r(193),S=r(208).set,T=r(273),j=r(210),A=r(275),E=r(118),O=r(171),I=r(103),L=r(109),R=r(33),P=r(277),C=r(128),U=r(175),M=R("species"),B="Promise",q=I.get,$=I.set,D=I.getterFor(B),F=p&&p.prototype,N=p,W=F,V=u.TypeError,z=u.document,H=u.process,K=E.f,J=K,G=!!(z&&z.createEvent&&u.dispatchEvent),Y="function"==typeof PromiseRejectionEvent,Z=!1,X=L(B,(function(){var t=v(N),e=t!==String(N);if(!e&&66===U)return!0;if(c&&!W.finally)return!0;if(U>=51&&/native code/.test(t))return!1;var r=new N((function(t){t(1)})),n=function(t){t((function(){}),(function(){}))};return(r.constructor={})[M]=n,!(Z=r.then((function(){}))instanceof n)||!e&&P&&!Y})),Q=X||!k((function(t){N.all(t).catch((function(){}))})),tt=function(t){var e;return!(!m(t)||"function"!=typeof(e=t.then))&&e},et=function(t,e){if(!t.notified){t.notified=!0;var r=t.reactions;T((function(){for(var n=t.value,o=1==t.state,i=0;r.length>i;){var a,s,c,u=r[i++],l=o?u.ok:u.fail,p=u.resolve,f=u.reject,h=u.domain;try{l?(o||(2===t.rejection&&it(t),t.rejection=1),!0===l?a=n:(h&&h.enter(),a=l(n),h&&(h.exit(),c=!0)),a===u.promise?f(V("Promise-chain cycle")):(s=tt(a))?s.call(a,p,f):p(a)):f(n)}catch(t){h&&!c&&h.exit(),f(t)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&nt(t)}))}},rt=function(t,e,r){var n,o;G?((n=z.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),u.dispatchEvent(n)):n={promise:e,reason:r},!Y&&(o=u["on"+t])?o(n):"unhandledrejection"===t&&A("Unhandled promise rejection",r)},nt=function(t){S.call(u,(function(){var e,r=t.facade,n=t.value;if(ot(t)&&(e=O((function(){C?H.emit("unhandledRejection",n,r):rt("unhandledrejection",r,n)})),t.rejection=C||ot(t)?2:1,e.error))throw e.value}))},ot=function(t){return 1!==t.rejection&&!t.parent},it=function(t){S.call(u,(function(){var e=t.facade;C?H.emit("rejectionHandled",e):rt("rejectionhandled",e,t.value)}))},at=function(t,e,r){return function(n){t(e,n,r)}},st=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=2,et(t,!0))},ct=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw V("Promise can't be resolved itself");var n=tt(e);n?T((function(){var r={done:!1};try{n.call(e,at(ct,r,t),at(st,r,t))}catch(e){st(r,e,t)}})):(t.value=e,t.state=1,et(t,!1))}catch(e){st({done:!1},e,t)}}};if(X&&(W=(N=function(t){b(this,N,B),w(t),n.call(this);var e=q(this);try{t(at(ct,e),at(st,e))}catch(t){st(e,t)}}).prototype,(n=function(t){$(this,{type:B,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=h(W,{then:function(t,e){var r=D(this),n=K(_(this,N));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=C?H.domain:void 0,r.parent=!0,r.reactions.push(n),0!=r.state&&et(r,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new n,e=q(t);this.promise=t,this.resolve=at(ct,e),this.reject=at(st,e)},E.f=K=function(t){return t===N||t===i?new o(t):J(t)},!c&&"function"==typeof p&&F!==Object.prototype)){a=F.then,Z||(f(F,"then",(function(t,e){var r=this;return new N((function(t,e){a.call(r,t,e)})).then(t,e)}),{unsafe:!0}),f(F,"catch",W.catch,{unsafe:!0}));try{delete F.constructor}catch(t){}d&&d(F,W)}s({global:!0,wrap:!0,forced:X},{Promise:N}),g(N,B,!1,!0),y(B),i=l(B),s({target:B,stat:!0,forced:X},{reject:function(t){var e=K(this);return e.reject.call(void 0,t),e.promise}}),s({target:B,stat:!0,forced:c||X},{resolve:function(t){return j(c&&this===i?N:this,t)}}),s({target:B,stat:!0,forced:Q},{all:function(t){var e=this,r=K(e),n=r.resolve,o=r.reject,i=O((function(){var r=w(e.resolve),i=[],a=0,s=1;x(t,(function(t){var c=a++,u=!1;i.push(void 0),s++,r.call(e,t).then((function(t){u||(u=!0,i[c]=t,--s||n(i))}),o)})),--s||n(i)}));return i.error&&o(i.value),r.promise},race:function(t){var e=this,r=K(e),n=r.reject,o=O((function(){var o=w(e.resolve);x(t,(function(t){o.call(e,t).then(r.resolve,n)}))}));return o.error&&n(o.value),r.promise}})},function(t,e,r){"use strict";var n=r(185),o=r(124);t.exports=n?{}.toString:function(){return"[object "+o(this)+"]"}},function(t,e,r){"use strict";var n=r(83),o=r(71),i=r(33),a=r(25),s=i("species");t.exports=function(t){var e=n(t),r=o.f;a&&e&&!e[s]&&r(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,r){var n=r(33)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[n]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var r=!1;try{var i={};i[n]=function(){return{next:function(){return{done:r=!0}}}},t(i)}catch(t){}return r}},function(t,e,r){var n,o,i,a,s,c,u,l,p=r(12),f=r(108).f,h=r(208).set,d=r(209),g=r(274),y=r(128),m=p.MutationObserver||p.WebKitMutationObserver,w=p.document,b=p.process,v=p.Promise,x=f(p,"queueMicrotask"),k=x&&x.value;k||(n=function(){var t,e;for(y&&(t=b.domain)&&t.exit();o;){e=o.fn,o=o.next;try{e()}catch(t){throw o?a():i=void 0,t}}i=void 0,t&&t.enter()},d||y||g||!m||!w?v&&v.resolve?((u=v.resolve(void 0)).constructor=v,l=u.then,a=function(){l.call(u,n)}):a=y?function(){b.nextTick(n)}:function(){h.call(p,n)}:(s=!0,c=w.createTextNode(""),new m(n).observe(c,{characterData:!0}),a=function(){c.data=s=!s})),t.exports=k||function(t){var e={fn:t,next:void 0};i&&(i.next=e),o||(o=e,a()),i=e}},function(t,e,r){var n=r(178);t.exports=/web0s(?!.*chrome)/i.test(n)},function(t,e,r){var n=r(12);t.exports=function(t,e){var r=n.console;r&&r.error&&(1===arguments.length?r.error(t):r.error(t,e))}},function(t,e,r){var n=r(12),o=r(207),i=n.WeakMap;t.exports="function"==typeof i&&/native code/.test(o(i))},function(t,e){t.exports="object"==typeof window},function(t,e,r){"use strict";var n=r(27),o=r(96),i=r(206),a=r(18),s=r(83),c=r(193),u=r(210),l=r(101);if(n({target:"Promise",proto:!0,real:!0,forced:!!i&&a((function(){i.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=c(this,s("Promise")),r="function"==typeof t;return this.then(r?function(r){return u(e,t()).then((function(){return r}))}:t,r?function(r){return u(e,t()).then((function(){throw r}))}:t)}}),!o&&"function"==typeof i){var p=s("Promise").prototype.finally;i.prototype.finally!==p&&l(i.prototype,"finally",p,{unsafe:!0})}},function(t,e){t.exports=function(){}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,r){r(200)},function(t,e,r){r(211)},function(t,e,r){"use strict";var n=r(27),o=r(118),i=r(171);n({target:"Promise",stat:!0},{try:function(t){var e=o.f(this),r=i(t);return(r.error?e.reject:e.resolve)(r.value),e.promise}})},function(t,e,r){r(212)},function(t,e,r){var n=r(19),o=r(3),i=r(76),a=r(304),s=r(14),c=r(20).f,u=r(110).f,l=r(305),p=r(113),f=r(114),h=r(24),d=r(6),g=r(11),y=r(36).enforce,m=r(111),w=r(5),b=r(115),v=r(116),x=w("match"),k=o.RegExp,_=k.prototype,S=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,T=/a/g,j=/a/g,A=new k(T)!==T,E=f.UNSUPPORTED_Y,O=n&&(!A||E||b||v||d((function(){return j[x]=!1,k(T)!=T||k(j)==j||"/a/i"!=k(T,"i")})));if(i("RegExp",O)){for(var I=function(t,e){var r,n,o,i,c,u,f=this instanceof I,h=l(t),d=void 0===e,m=[],w=t;if(!f&&h&&d&&t.constructor===I)return t;if((h||t instanceof I)&&(t=t.source,d&&(e="flags"in w?w.flags:p.call(w))),t=void 0===t?"":String(t),e=void 0===e?"":String(e),w=t,b&&"dotAll"in T&&(n=!!e&&e.indexOf("s")>-1)&&(e=e.replace(/s/g,"")),r=e,E&&"sticky"in T&&(o=!!e&&e.indexOf("y")>-1)&&(e=e.replace(/y/g,"")),v&&(t=(i=function(t){for(var e,r=t.length,n=0,o="",i=[],a={},s=!1,c=!1,u=0,l="";n<=r;n++){if("\\"===(e=t.charAt(n)))e+=t.charAt(++n);else if("]"===e)s=!1;else if(!s)switch(!0){case"["===e:s=!0;break;case"("===e:S.test(t.slice(n+1))&&(n+=2,c=!0),o+=e,u++;continue;case">"===e&&c:if(""===l||g(a,l))throw new SyntaxError("Invalid capture group name");a[l]=!0,i.push([l,u]),c=!1,l="";continue}c?l+=e:o+=e}return[o,i]}(t))[0],m=i[1]),c=a(k(t,e),f?this:_,I),(n||o||m.length)&&(u=y(c),n&&(u.dotAll=!0,u.raw=I(function(t){for(var e,r=t.length,n=0,o="",i=!1;n<=r;n++)"\\"!==(e=t.charAt(n))?i||"."!==e?("["===e?i=!0:"]"===e&&(i=!1),o+=e):o+="[\\s\\S]":o+=e+t.charAt(++n);return o}(t),r)),o&&(u.sticky=!0),m.length&&(u.groups=m)),t!==w)try{s(c,"source",""===w?"(?:)":w)}catch(t){}return c},L=function(t){t in I||c(I,t,{configurable:!0,get:function(){return k[t]},set:function(e){k[t]=e}})},R=u(k),P=0;R.length>P;)L(R[P++]);_.constructor=I,I.prototype=_,h(o,"RegExp",I)}m("RegExp")},function(t,e,r){var n=r(287);t.exports=n},function(t,e,r){var n=r(288);t.exports=n},function(t,e,r){r(289),r(297),r(221);var n=r(70);t.exports=n.URL},function(t,e,r){"use strict";r(220);var n,o=r(27),i=r(25),a=r(222),s=r(12),c=r(215),u=r(101),l=r(187),p=r(29),f=r(290),h=r(292),d=r(194).codeAt,g=r(295),y=r(119),m=r(221),w=r(103),b=s.URL,v=m.URLSearchParams,x=m.getState,k=w.set,_=w.getterFor("URL"),S=Math.floor,T=Math.pow,j=/[A-Za-z]/,A=/[\d+-.A-Za-z]/,E=/\d/,O=/^0x/i,I=/^[0-7]+$/,L=/^\d+$/,R=/^[\dA-Fa-f]+$/,P=/[\0\t\n\r #%/:<>?@[\\\]^|]/,C=/[\0\t\n\r #/:<>?@[\\\]^|]/,U=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,M=/[\t\n\r]/g,B=function(t,e){var r,n,o;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return"Invalid host";if(!(r=$(e.slice(1,-1))))return"Invalid host";t.host=r}else if(K(t)){if(e=g(e),P.test(e))return"Invalid host";if(null===(r=q(e)))return"Invalid host";t.host=r}else{if(C.test(e))return"Invalid host";for(r="",n=h(e),o=0;o<n.length;o++)r+=z(n[o],F);t.host=r}},q=function(t){var e,r,n,o,i,a,s,c=t.split(".");if(c.length&&""==c[c.length-1]&&c.pop(),(e=c.length)>4)return t;for(r=[],n=0;n<e;n++){if(""==(o=c[n]))return t;if(i=10,o.length>1&&"0"==o.charAt(0)&&(i=O.test(o)?16:8,o=o.slice(8==i?1:2)),""===o)a=0;else{if(!(10==i?L:8==i?I:R).test(o))return t;a=parseInt(o,i)}r.push(a)}for(n=0;n<e;n++)if(a=r[n],n==e-1){if(a>=T(256,5-e))return null}else if(a>255)return null;for(s=r.pop(),n=0;n<r.length;n++)s+=r[n]*T(256,3-n);return s},$=function(t){var e,r,n,o,i,a,s,c=[0,0,0,0,0,0,0,0],u=0,l=null,p=0,f=function(){return t.charAt(p)};if(":"==f()){if(":"!=t.charAt(1))return;p+=2,l=++u}for(;f();){if(8==u)return;if(":"!=f()){for(e=r=0;r<4&&R.test(f());)e=16*e+parseInt(f(),16),p++,r++;if("."==f()){if(0==r)return;if(p-=r,u>6)return;for(n=0;f();){if(o=null,n>0){if(!("."==f()&&n<4))return;p++}if(!E.test(f()))return;for(;E.test(f());){if(i=parseInt(f(),10),null===o)o=i;else{if(0==o)return;o=10*o+i}if(o>255)return;p++}c[u]=256*c[u]+o,2!=++n&&4!=n||u++}if(4!=n)return;break}if(":"==f()){if(p++,!f())return}else if(f())return;c[u++]=e}else{if(null!==l)return;p++,l=++u}}if(null!==l)for(a=u-l,u=7;0!=u&&a>0;)s=c[u],c[u--]=c[l+a-1],c[l+--a]=s;else if(8!=u)return;return c},D=function(t){var e,r,n,o;if("number"==typeof t){for(e=[],r=0;r<4;r++)e.unshift(t%256),t=S(t/256);return e.join(".")}if("object"==typeof t){for(e="",n=function(t){for(var e=null,r=1,n=null,o=0,i=0;i<8;i++)0!==t[i]?(o>r&&(e=n,r=o),n=null,o=0):(null===n&&(n=i),++o);return o>r&&(e=n,r=o),e}(t),r=0;r<8;r++)o&&0===t[r]||(o&&(o=!1),n===r?(e+=r?":":"::",o=!0):(e+=t[r].toString(16),r<7&&(e+=":")));return"["+e+"]"}return t},F={},N=f({},F,{" ":1,'"':1,"<":1,">":1,"`":1}),W=f({},N,{"#":1,"?":1,"{":1,"}":1}),V=f({},W,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),z=function(t,e){var r=d(t,0);return r>32&&r<127&&!p(e,t)?t:encodeURIComponent(t)},H={ftp:21,file:null,http:80,https:443,ws:80,wss:443},K=function(t){return p(H,t.scheme)},J=function(t){return""!=t.username||""!=t.password},G=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},Y=function(t,e){var r;return 2==t.length&&j.test(t.charAt(0))&&(":"==(r=t.charAt(1))||!e&&"|"==r)},Z=function(t){var e;return t.length>1&&Y(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)},X=function(t){var e=t.path,r=e.length;!r||"file"==t.scheme&&1==r&&Y(e[0],!0)||e.pop()},Q=function(t){return"."===t||"%2e"===t.toLowerCase()},tt={},et={},rt={},nt={},ot={},it={},at={},st={},ct={},ut={},lt={},pt={},ft={},ht={},dt={},gt={},yt={},mt={},wt={},bt={},vt={},xt=function(t,e,r,o){var i,a,s,c,u,l=r||tt,f=0,d="",g=!1,y=!1,m=!1;for(r||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(U,"")),e=e.replace(M,""),i=h(e);f<=i.length;){switch(a=i[f],l){case tt:if(!a||!j.test(a)){if(r)return"Invalid scheme";l=rt;continue}d+=a.toLowerCase(),l=et;break;case et:if(a&&(A.test(a)||"+"==a||"-"==a||"."==a))d+=a.toLowerCase();else{if(":"!=a){if(r)return"Invalid scheme";d="",l=rt,f=0;continue}if(r&&(K(t)!=p(H,d)||"file"==d&&(J(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=d,r)return void(K(t)&&H[t.scheme]==t.port&&(t.port=null));d="","file"==t.scheme?l=ht:K(t)&&o&&o.scheme==t.scheme?l=nt:K(t)?l=st:"/"==i[f+1]?(l=ot,f++):(t.cannotBeABaseURL=!0,t.path.push(""),l=wt)}break;case rt:if(!o||o.cannotBeABaseURL&&"#"!=a)return"Invalid scheme";if(o.cannotBeABaseURL&&"#"==a){t.scheme=o.scheme,t.path=o.path.slice(),t.query=o.query,t.fragment="",t.cannotBeABaseURL=!0,l=vt;break}l="file"==o.scheme?ht:it;continue;case nt:if("/"!=a||"/"!=i[f+1]){l=it;continue}l=ct,f++;break;case ot:if("/"==a){l=ut;break}l=mt;continue;case it:if(t.scheme=o.scheme,a==n)t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,t.path=o.path.slice(),t.query=o.query;else if("/"==a||"\\"==a&&K(t))l=at;else if("?"==a)t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,t.path=o.path.slice(),t.query="",l=bt;else{if("#"!=a){t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,t.path=o.path.slice(),t.path.pop(),l=mt;continue}t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,t.path=o.path.slice(),t.query=o.query,t.fragment="",l=vt}break;case at:if(!K(t)||"/"!=a&&"\\"!=a){if("/"!=a){t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,l=mt;continue}l=ut}else l=ct;break;case st:if(l=ct,"/"!=a||"/"!=d.charAt(f+1))continue;f++;break;case ct:if("/"!=a&&"\\"!=a){l=ut;continue}break;case ut:if("@"==a){g&&(d="%40"+d),g=!0,s=h(d);for(var w=0;w<s.length;w++){var b=s[w];if(":"!=b||m){var v=z(b,V);m?t.password+=v:t.username+=v}else m=!0}d=""}else if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&K(t)){if(g&&""==d)return"Invalid authority";f-=h(d).length+1,d="",l=lt}else d+=a;break;case lt:case pt:if(r&&"file"==t.scheme){l=gt;continue}if(":"!=a||y){if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&K(t)){if(K(t)&&""==d)return"Invalid host";if(r&&""==d&&(J(t)||null!==t.port))return;if(c=B(t,d))return c;if(d="",l=yt,r)return;continue}"["==a?y=!0:"]"==a&&(y=!1),d+=a}else{if(""==d)return"Invalid host";if(c=B(t,d))return c;if(d="",l=ft,r==pt)return}break;case ft:if(!E.test(a)){if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&K(t)||r){if(""!=d){var x=parseInt(d,10);if(x>65535)return"Invalid port";t.port=K(t)&&x===H[t.scheme]?null:x,d=""}if(r)return;l=yt;continue}return"Invalid port"}d+=a;break;case ht:if(t.scheme="file","/"==a||"\\"==a)l=dt;else{if(!o||"file"!=o.scheme){l=mt;continue}if(a==n)t.host=o.host,t.path=o.path.slice(),t.query=o.query;else if("?"==a)t.host=o.host,t.path=o.path.slice(),t.query="",l=bt;else{if("#"!=a){Z(i.slice(f).join(""))||(t.host=o.host,t.path=o.path.slice(),X(t)),l=mt;continue}t.host=o.host,t.path=o.path.slice(),t.query=o.query,t.fragment="",l=vt}}break;case dt:if("/"==a||"\\"==a){l=gt;break}o&&"file"==o.scheme&&!Z(i.slice(f).join(""))&&(Y(o.path[0],!0)?t.path.push(o.path[0]):t.host=o.host),l=mt;continue;case gt:if(a==n||"/"==a||"\\"==a||"?"==a||"#"==a){if(!r&&Y(d))l=mt;else if(""==d){if(t.host="",r)return;l=yt}else{if(c=B(t,d))return c;if("localhost"==t.host&&(t.host=""),r)return;d="",l=yt}continue}d+=a;break;case yt:if(K(t)){if(l=mt,"/"!=a&&"\\"!=a)continue}else if(r||"?"!=a)if(r||"#"!=a){if(a!=n&&(l=mt,"/"!=a))continue}else t.fragment="",l=vt;else t.query="",l=bt;break;case mt:if(a==n||"/"==a||"\\"==a&&K(t)||!r&&("?"==a||"#"==a)){if(".."===(u=(u=d).toLowerCase())||"%2e."===u||".%2e"===u||"%2e%2e"===u?(X(t),"/"==a||"\\"==a&&K(t)||t.path.push("")):Q(d)?"/"==a||"\\"==a&&K(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&Y(d)&&(t.host&&(t.host=""),d=d.charAt(0)+":"),t.path.push(d)),d="","file"==t.scheme&&(a==n||"?"==a||"#"==a))for(;t.path.length>1&&""===t.path[0];)t.path.shift();"?"==a?(t.query="",l=bt):"#"==a&&(t.fragment="",l=vt)}else d+=z(a,W);break;case wt:"?"==a?(t.query="",l=bt):"#"==a?(t.fragment="",l=vt):a!=n&&(t.path[0]+=z(a,F));break;case bt:r||"#"!=a?a!=n&&("'"==a&&K(t)?t.query+="%27":t.query+="#"==a?"%23":z(a,F)):(t.fragment="",l=vt);break;case vt:a!=n&&(t.fragment+=z(a,N))}f++}},kt=function(t){var e,r,n=l(this,kt,"URL"),o=arguments.length>1?arguments[1]:void 0,a=String(t),s=k(n,{type:"URL"});if(void 0!==o)if(o instanceof kt)e=_(o);else if(r=xt(e={},String(o)))throw TypeError(r);if(r=xt(s,a,null,e))throw TypeError(r);var c=s.searchParams=new v,u=x(c);u.updateSearchParams(s.query),u.updateURL=function(){s.query=String(c)||null},i||(n.href=St.call(n),n.origin=Tt.call(n),n.protocol=jt.call(n),n.username=At.call(n),n.password=Et.call(n),n.host=Ot.call(n),n.hostname=It.call(n),n.port=Lt.call(n),n.pathname=Rt.call(n),n.search=Pt.call(n),n.searchParams=Ct.call(n),n.hash=Ut.call(n))},_t=kt.prototype,St=function(){var t=_(this),e=t.scheme,r=t.username,n=t.password,o=t.host,i=t.port,a=t.path,s=t.query,c=t.fragment,u=e+":";return null!==o?(u+="//",J(t)&&(u+=r+(n?":"+n:"")+"@"),u+=D(o),null!==i&&(u+=":"+i)):"file"==e&&(u+="//"),u+=t.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(u+="?"+s),null!==c&&(u+="#"+c),u},Tt=function(){var t=_(this),e=t.scheme,r=t.port;if("blob"==e)try{return new kt(e.path[0]).origin}catch(t){return"null"}return"file"!=e&&K(t)?e+"://"+D(t.host)+(null!==r?":"+r:""):"null"},jt=function(){return _(this).scheme+":"},At=function(){return _(this).username},Et=function(){return _(this).password},Ot=function(){var t=_(this),e=t.host,r=t.port;return null===e?"":null===r?D(e):D(e)+":"+r},It=function(){var t=_(this).host;return null===t?"":D(t)},Lt=function(){var t=_(this).port;return null===t?"":String(t)},Rt=function(){var t=_(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},Pt=function(){var t=_(this).query;return t?"?"+t:""},Ct=function(){return _(this).searchParams},Ut=function(){var t=_(this).fragment;return t?"#"+t:""},Mt=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(i&&c(_t,{href:Mt(St,(function(t){var e=_(this),r=String(t),n=xt(e,r);if(n)throw TypeError(n);x(e.searchParams).updateSearchParams(e.query)})),origin:Mt(Tt),protocol:Mt(jt,(function(t){var e=_(this);xt(e,String(t)+":",tt)})),username:Mt(At,(function(t){var e=_(this),r=h(String(t));if(!G(e)){e.username="";for(var n=0;n<r.length;n++)e.username+=z(r[n],V)}})),password:Mt(Et,(function(t){var e=_(this),r=h(String(t));if(!G(e)){e.password="";for(var n=0;n<r.length;n++)e.password+=z(r[n],V)}})),host:Mt(Ot,(function(t){var e=_(this);e.cannotBeABaseURL||xt(e,String(t),lt)})),hostname:Mt(It,(function(t){var e=_(this);e.cannotBeABaseURL||xt(e,String(t),pt)})),port:Mt(Lt,(function(t){var e=_(this);G(e)||(""==(t=String(t))?e.port=null:xt(e,t,ft))})),pathname:Mt(Rt,(function(t){var e=_(this);e.cannotBeABaseURL||(e.path=[],xt(e,t+"",yt))})),search:Mt(Pt,(function(t){var e=_(this);""==(t=String(t))?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",xt(e,t,bt)),x(e.searchParams).updateSearchParams(e.query)})),searchParams:Mt(Ct),hash:Mt(Ut,(function(t){var e=_(this);""!=(t=String(t))?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",xt(e,t,vt)):e.fragment=null}))}),u(_t,"toJSON",(function(){return St.call(this)}),{enumerable:!0}),u(_t,"toString",(function(){return St.call(this)}),{enumerable:!0}),b){var Bt=b.createObjectURL,qt=b.revokeObjectURL;Bt&&u(kt,"createObjectURL",(function(t){return Bt.apply(b,arguments)})),qt&&u(kt,"revokeObjectURL",(function(t){return qt.apply(b,arguments)}))}y(kt,"URL"),o({global:!0,forced:!a,sham:!i},{URL:kt})},function(t,e,r){"use strict";var n=r(25),o=r(18),i=r(216),a=r(291),s=r(117),c=r(72),u=r(98),l=Object.assign,p=Object.defineProperty;t.exports=!l||o((function(){if(n&&1!==l({b:1},l(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},r=Symbol();return t[r]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=l({},t)[r]||"abcdefghijklmnopqrst"!=i(l({},e)).join("")}))?function(t,e){for(var r=c(t),o=arguments.length,l=1,p=a.f,f=s.f;o>l;)for(var h,d=u(arguments[l++]),g=p?i(d).concat(p(d)):i(d),y=g.length,m=0;y>m;)h=g[m++],n&&!f.call(d,h)||(r[h]=d[h]);return r}:l},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,r){"use strict";var n=r(73),o=r(72),i=r(293),a=r(217),s=r(127),c=r(294),u=r(172);t.exports=function(t){var e,r,l,p,f,h,d=o(t),g="function"==typeof this?this:Array,y=arguments.length,m=y>1?arguments[1]:void 0,w=void 0!==m,b=u(d),v=0;if(w&&(m=n(m,y>2?arguments[2]:void 0,2)),null==b||g==Array&&a(b))for(r=new g(e=s(d.length));e>v;v++)h=w?m(d[v],v):d[v],c(r,v,h);else for(f=(p=b.call(d)).next,r=new g;!(l=f.call(p)).done;v++)h=w?i(p,m,[l.value,v],!0):l.value,c(r,v,h);return r.length=v,r}},function(t,e,r){var n=r(28),o=r(218);t.exports=function(t,e,r,i){try{return i?e(n(r)[0],r[1]):e(r)}catch(e){throw o(t),e}}},function(t,e,r){"use strict";var n=r(79),o=r(71),i=r(47);t.exports=function(t,e,r){var a=n(e);a in t?o.f(t,a,i(0,r)):t[a]=r}},function(t,e,r){"use strict";var n=/[^\0-\u007E]/,o=/[.\u3002\uFF0E\uFF61]/g,i="Overflow: input needs wider integers to process",a=Math.floor,s=String.fromCharCode,c=function(t){return t+22+75*(t<26)},u=function(t,e,r){var n=0;for(t=r?a(t/700):t>>1,t+=a(t/e);t>455;n+=36)t=a(t/35);return a(n+36*t/(t+38))},l=function(t){var e,r,n=[],o=(t=function(t){for(var e=[],r=0,n=t.length;r<n;){var o=t.charCodeAt(r++);if(o>=55296&&o<=56319&&r<n){var i=t.charCodeAt(r++);56320==(64512&i)?e.push(((1023&o)<<10)+(1023&i)+65536):(e.push(o),r--)}else e.push(o)}return e}(t)).length,l=128,p=0,f=72;for(e=0;e<t.length;e++)(r=t[e])<128&&n.push(s(r));var h=n.length,d=h;for(h&&n.push("-");d<o;){var g=2147483647;for(e=0;e<t.length;e++)(r=t[e])>=l&&r<g&&(g=r);var y=d+1;if(g-l>a((2147483647-p)/y))throw RangeError(i);for(p+=(g-l)*y,l=g,e=0;e<t.length;e++){if((r=t[e])<l&&++p>2147483647)throw RangeError(i);if(r==l){for(var m=p,w=36;;w+=36){var b=w<=f?1:w>=f+26?26:w-f;if(m<b)break;var v=m-b,x=36-b;n.push(s(c(b+v%x))),m=a(v/x)}n.push(s(c(m))),f=u(p,y,d==h),p=0,++d}}++p,++l}return n.join("")};t.exports=function(t){var e,r,i=[],a=t.toLowerCase().replace(o,".").split(".");for(e=0;e<a.length;e++)r=a[e],i.push(n.test(r)?"xn--"+l(r):r);return i.join(".")}},function(t,e,r){var n=r(28),o=r(172);t.exports=function(t){var e=o(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return n(e.call(t))}},function(t,e){},function(t,e,r){"use strict";var n,o=r(299),i=r(19),a=r(3),s=r(15),c=r(11),u=r(112),l=r(14),p=r(24),f=r(20).f,h=r(78),d=r(69),g=r(5),y=r(75),m=a.Int8Array,w=m&&m.prototype,b=a.Uint8ClampedArray,v=b&&b.prototype,x=m&&h(m),k=w&&h(w),_=Object.prototype,S=_.isPrototypeOf,T=g("toStringTag"),j=y("TYPED_ARRAY_TAG"),A=o&&!!d&&"Opera"!==u(a.opera),E=!1,O={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},I={BigInt64Array:8,BigUint64Array:8},L=function(t){if(!s(t))return!1;var e=u(t);return c(O,e)||c(I,e)};for(n in O)a[n]||(A=!1);if((!A||"function"!=typeof x||x===Function.prototype)&&(x=function(){throw TypeError("Incorrect invocation")},A))for(n in O)a[n]&&d(a[n],x);if((!A||!k||k===_)&&(k=x.prototype,A))for(n in O)a[n]&&d(a[n].prototype,k);if(A&&h(v)!==k&&d(v,k),i&&!c(k,T))for(n in E=!0,f(k,T,{get:function(){return s(this)?this[j]:void 0}}),O)a[n]&&l(a[n],j,n);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:A,TYPED_ARRAY_TAG:E&&j,aTypedArray:function(t){if(L(t))return t;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(t){if(d){if(S.call(x,t))return t}else for(var e in O)if(c(O,n)){var r=a[e];if(r&&(t===r||S.call(r,t)))return t}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(t,e,r){if(i){if(r)for(var n in O){var o=a[n];if(o&&c(o.prototype,t))try{delete o.prototype[t]}catch(t){}}k[t]&&!r||p(k,t,r?e:A&&w[t]||e)}},exportTypedArrayStaticMethod:function(t,e,r){var n,o;if(i){if(d){if(r)for(n in O)if((o=a[n])&&c(o,t))try{delete o[t]}catch(t){}if(x[t]&&!r)return;try{return p(x,t,r?e:A&&x[t]||e)}catch(t){}}for(n in O)!(o=a[n])||o[t]&&!r||p(o,t,e)}},isView:function(t){if(!s(t))return!1;var e=u(t);return"DataView"===e||c(O,e)||c(I,e)},isTypedArray:L,TypedArray:x,TypedArrayPrototype:k}},function(t,e){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},function(t,e){var r=Math.floor,n=function(t,e){var a=t.length,s=r(a/2);return a<8?o(t,e):i(n(t.slice(0,s),e),n(t.slice(s),e),e)},o=function(t,e){for(var r,n,o=t.length,i=1;i<o;){for(n=i,r=t[i];n&&e(t[n-1],r)>0;)t[n]=t[--n];n!==i++&&(t[n]=r)}return t},i=function(t,e,r){for(var n=t.length,o=e.length,i=0,a=0,s=[];i<n||a<o;)i<n&&a<o?s.push(r(t[i],e[a])<=0?t[i++]:e[a++]):s.push(i<n?t[i++]:e[a++]);return s};t.exports=n},function(t,e,r){var n=r(40).match(/firefox\/(\d+)/i);t.exports=!!n&&+n[1]},function(t,e,r){var n=r(40);t.exports=/MSIE|Trident/.test(n)},function(t,e,r){var n=r(40).match(/AppleWebKit\/(\d+)\./);t.exports=!!n&&+n[1]},function(t,e,r){var n=r(15),o=r(69);t.exports=function(t,e,r){var i,a;return o&&"function"==typeof(i=e.constructor)&&i!==r&&n(a=i.prototype)&&a!==r.prototype&&o(t,a),t}},function(t,e,r){var n=r(15),o=r(34),i=r(5)("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==o(t))}},function(t,e,r){"use strict";var n=r(46),o=r(307).start,i=r(308)("trimStart"),a=i?function(){return o(this)}:"".trimStart;n({target:"String",proto:!0,forced:i},{trimStart:a,trimLeft:a})},function(t,e,r){var n=r(35),o="["+r(224)+"]",i=RegExp("^"+o+o+"*"),a=RegExp(o+o+"*$"),s=function(t){return function(e){var r=String(n(e));return 1&t&&(r=r.replace(i,"")),2&t&&(r=r.replace(a,"")),r}};t.exports={start:s(1),end:s(2),trim:s(3)}},function(t,e,r){var n=r(6),o=r(224);t.exports=function(t){return n((function(){return!!o[t]()||"​᠎"!="​᠎"[t]()||o[t].name!==t}))}},function(t,e,r){var n=r(310);t.exports=n},function(t,e,r){var n=r(311),o=Array.prototype;t.exports=function(t){var e=t.reduce;return t===o||t instanceof Array&&e===o.reduce?n:e}},function(t,e,r){r(312);var n=r(176);t.exports=n("Array").reduce},function(t,e,r){"use strict";var n=r(27),o=r(246).left,i=r(244),a=r(175),s=r(128);n({target:"Array",proto:!0,forced:!i("reduce")||!s&&a>79&&a<83},{reduce:function(t){return o(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(t,e,r){var n=r(314);t.exports=n},function(t,e,r){var n=r(315),o=String.prototype;t.exports=function(t){var e=t.trim;return"string"==typeof t||t===o||t instanceof String&&e===o.trim?n:e}},function(t,e,r){r(316);var n=r(176);t.exports=n("String").trim},function(t,e,r){"use strict";var n=r(27),o=r(317).trim;n({target:"String",proto:!0,forced:r(318)("trim")},{trim:function(){return o(this)}})},function(t,e,r){var n=r(68),o="["+r(225)+"]",i=RegExp("^"+o+o+"*"),a=RegExp(o+o+"*$"),s=function(t){return function(e){var r=String(n(e));return 1&t&&(r=r.replace(i,"")),2&t&&(r=r.replace(a,"")),r}};t.exports={start:s(1),end:s(2),trim:s(3)}},function(t,e,r){var n=r(18),o=r(225);t.exports=function(t){return n((function(){return!!o[t]()||"​᠎"!="​᠎"[t]()||o[t].name!==t}))}},,,,,,,,,,,,,,,,,function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));var n=r(125);
/**
 * @license
 * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */class o{constructor(t){this.classes=new Set,this.changed=!1,this.element=t;const e=(t.getAttribute("class")||"").split(/\s+/);for(const t of e)this.classes.add(t)}add(t){this.classes.add(t),this.changed=!0}remove(t){this.classes.delete(t),this.changed=!0}commit(){if(this.changed){let t="";this.classes.forEach(e=>t+=e+" "),this.element.setAttribute("class",t)}}}const i=new WeakMap,a=Object(n.e)(t=>e=>{if(!(e instanceof n.a)||e instanceof n.c||"class"!==e.committer.name||e.committer.parts.length>1)throw new Error("The `classMap` directive must be used in the `class` attribute and must be the only part in the attribute.");const{committer:r}=e,{element:a}=r;let s=i.get(e);void 0===s&&(a.setAttribute("class",r.strings.join(" ")),i.set(e,s=new Set));const c=a.classList||new o(a);s.forEach(e=>{e in t||(c.remove(e),s.delete(e))});for(const e in t){const r=t[e];r!=s.has(e)&&(r?(c.add(e),s.add(e)):(c.remove(e),s.delete(e)))}"function"==typeof c.commit&&c.commit()})},,,,,,,,,function(t,e,r){"use strict";r.r(e);var n=r(7),o=r.n(n),i=(r(13),r(16),r(242)),a=r(364),s=r(1),c=r(8),u=s.b`.i-bubble {
  position: fixed;
  top: 80px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 99999999;
}
.i-bubble.network-error .i-bubble-wrap,
.i-bubble.error .i-bubble-wrap,
.i-bubble.success .i-bubble-wrap {
  padding-left: 30px;
  padding-right: 32px;
}
.i-bubble + .i-bubble-mask {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(255, 255, 255, 0.7);
  z-index: 999999;
  display: none;
  opacity: 0;
  transition: opacity 150ms ease-in 0s;
}
.i-bubble.loading + .i-bubble-mask {
  display: block;
}
.i-bubble.loading.popup + .i-bubble-mask {
  opacity: 1;
}
.i-bubble .i-bubble-wrap {
  margin: 0 auto;
  box-sizing: border-box;
  padding: 12px 20px;
  background-color: #333;
  box-shadow: 0px 2px 20px 0px rgba(0, 0, 0, 0.1);
  border-radius: 4px;
  display: flex;
  flex-flow: row nowrap;
  align-items: center;
  font-size: 14px;
  line-height: 1.4em;
  transition: opacity 0.15s cubic-bezier(0, 0, 0.2, 1) 0ms, transform 0.15s cubic-bezier(0, 0, 0.2, 1) 0ms;
  transform: scale(0.8);
  opacity: 0;
  box-shadow: 0 3px 5px -1px rgba(0, 0, 0, 0.2), 0 6px 10px 0 rgba(0, 0, 0, 0.14), 0 1px 18px 0 rgba(0, 0, 0, 0.12);
  max-width: 600px;
}
.i-bubble.popup .i-bubble-wrap {
  transform: scale(1);
  opacity: 1;
}
@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.i-bubble .icon {
  width: 18px;
  height: 18px;
  flex-shrink: 0;
  margin-right: 12px;
  display: none;
}
.i-bubble .icon.icon-loading {
  animation: spin 700ms linear infinite;
}
.i-bubble .i-bubble-text {
  color: #e4e4e4;
  display: block;
  box-sizing: border-box;
  flex-grow: 1;
  width: 100%;
  word-break: break-all;
}
.i-bubble .i-bubble-button {
  width: 70px;
  height: 28px;
  color: #4caf50;
  background-color: initial;
  border: none;
  padding: 0;
  cursor: pointer;
  transition: color, background-color 200ms;
  border-radius: 4px;
  outline: none;
  max-width: 180px;
  margin-left: 46px;
  flex-shrink: 0;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
}
.i-bubble .i-bubble-button:hover {
  background-color: rgba(76, 175, 80, 0.14);
}
`,l=r(21),p=r(23),f=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a};const h=Object(p.a)("network-error.png",!1),d=Object(p.a)("error.png",!1),g=Object(p.a)("success.png",!1),y=Object(p.a)("loading.png",!1);class m extends i.a{constructor(){super(...arguments),this.popup=!1,this.showButton=!1}static _timeToHideHandler(t){if(t.showButton){const e=t.shadowRoot.querySelector(".i-bubble .i-bubble-button");e.onclick&&(e.onclick=null)}const e=t.shadowRoot.querySelector(".i-bubble > .i-bubble-wrap");let r=!1;const n=()=>{t.onmouseenter=null,t.onmouseleave=null,document.body.contains(t)&&document.body.removeChild(t),r=!0};e.addEventListener("transitionend",n,{once:!0}),e.addEventListener("transitioncancel",n,{once:!0}),setTimeout(()=>{r||n()},150),t.setPopup(!1)}static _setTimerToHide(t,e){this._clearTimerToHide(t),t.hideTimer=setTimeout(()=>this._timeToHideHandler(t),e)}static _clearTimerToHide(t){t.hideTimer&&(clearTimeout(t.hideTimer),t.hideTimer=null)}static _messageMisc(t,e,r){this.setText(t),document.body.appendChild(this),window.customElements.whenDefined("i-bubble").then(()=>(this.offsetWidth,this.setPopup(!0),new o.a(t=>requestAnimationFrame(t)))).then(()=>{r&&r(this)}),e>0&&m._setTimerToHide(this,e)}static message(t,e){const r=document.createElement("i-bubble");r.setType("message"),e=null!=e?e:this.duration,this._messageMisc.call(r,t,e)}static networkError(t,e){const r=document.createElement("i-bubble");r.setType("network-error"),e=null!=e?e:this.duration,this._messageMisc.call(r,t,e)}static success(t,e){const r=document.createElement("i-bubble");r.setType("success"),e=null!=e?e:this.duration,this._messageMisc.call(r,t,e)}static error(t,e){const r=document.createElement("i-bubble");r.setType("error"),e=null!=e?e:this.duration,this._messageMisc.call(r,t,e)}static popupLogin(t){const e=this.popup(i18n("reqeust_login_message"),{showButton:!0,btnValue:i18n("to_login"),type:"message",onBtnClick:null!=t?t:()=>{a.userStore.openModal()}}),r=Date.now();let n=this.duration2;e.onmouseenter=()=>{n=Date.now()-r,m._clearTimerToHide(e)},e.onmouseleave=()=>{m._setTimerToHide(e,n)}}static popupLoading(t){const e=this.popup(i18n("wallpaper_loading"),{duration:0,showButton:!0,btnValue:i18n("cancel"),type:"loading",onBtnClick:t});return()=>setTimeout(()=>this._timeToHideHandler(e),m.waitForReady)}static loading(t){const e=this.popup(t,{type:"loading",duration:0});return()=>setTimeout(()=>this._timeToHideHandler(e),m.waitForReady)}static popup(t,e){const{duration:r=this.duration2,btnValue:n,onBtnClick:o,type:i,showButton:a}=e,s=document.createElement("i-bubble");return s.setType(i),n&&s.setBtnValue(n),a&&s.setShowButton(a),this._messageMisc.call(s,t,r,()=>{if(s.showButton){s.shadowRoot.querySelector(".i-bubble .i-bubble-button").onclick=t=>{o&&o(t),this._timeToHideHandler(s)}}}),s}firstUpdated(){const t="\n      background-size: cover;\n      background-repeat: no-repeat;\n      background-position: center;\n      display: block;\n    ",e=document.createElement("style");e.appendChild(document.createTextNode(`\n      .i-bubble .icon.icon-network-error{\n        background-image: url(${h});${t}\n      }\n      .i-bubble .icon.icon-success{\n        background-image: url(${g});${t}\n      }\n      .i-bubble .icon.icon-error{\n        background-image: url(${d});${t}\n      }\n      .i-bubble .icon.icon-loading{\n        background-image: url(${y});${t}\n      }\n      `)),this.shadowRoot.appendChild(e)}render(){return s.e`
      <section class="i-bubble ${this.type}${this.popup?" popup":""}">
        <section class="i-bubble-wrap">
          <i class="icon icon-${this.type}"></i>
          <span class="i-bubble-text">${this.text}</span>
          <input
            class="i-bubble-button"
            type="button"
            .value=${this.btnValue}
            style="${this.showButton?"":"display: none;"}"
          />
        </section>
      </section>
      <section class="i-bubble-mask" @click=${l.a.stopBubble}></section>
    `}setType(t){this.type=t}setText(t){this.text=t}setBtnValue(t){this.btnValue=t}setPopup(t){this.popup=t}setShowButton(t){this.showButton=t}}m.duration=3e3,m.duration2=5e3,m.waitForReady=1e3/60,m.styles=u,f([c.g],m.prototype,"type",void 0),f([c.g],m.prototype,"text",void 0),f([c.g],m.prototype,"btnValue",void 0),f([c.g],m.prototype,"popup",void 0),f([c.g],m.prototype,"showButton",void 0),f([c.b],m.prototype,"setType",null),f([c.b],m.prototype,"setText",null),f([c.b],m.prototype,"setBtnValue",null),f([c.b],m.prototype,"setPopup",null),f([c.b],m.prototype,"setShowButton",null),window.customElements.define("i-bubble",m);e.default=m},,function(t,e,r){"use strict";r.d(e,"a",(function(){return n})),r.d(e,"b",(function(){return i}));r(13),r(16);class n{constructor(){this._caches={},this._setCaches=t=>(...e)=>{this._caches[t]=e}}}const o=[],i=t=>new Proxy(t,{set:(t,e,r)=>null===r?(t[e]=r,!0):"function"==typeof t[e]?(console.warn("失败：重复注册"),!0):(t[e]=r,o.includes(e)&&delete t._caches[e],t._caches.hasOwnProperty(e)&&(t[e](...t._caches[e]),delete t._caches[e]),!0),get:(t,e)=>"function"==typeof t[e]?t[e]:t._setCaches(e)})},function(t,e){var r,n;r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&n.rotl(t,8)|4278255360&n.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=n.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],r=0,n=0;r<t.length;r++,n+=8)e[n>>>5]|=t[r]<<24-n%32;return e},wordsToBytes:function(t){for(var e=[],r=0;r<32*t.length;r+=8)e.push(t[r>>>5]>>>24-r%32&255);return e},bytesToHex:function(t){for(var e=[],r=0;r<t.length;r++)e.push((t[r]>>>4).toString(16)),e.push((15&t[r]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(parseInt(t.substr(r,2),16));return e},bytesToBase64:function(t){for(var e=[],n=0;n<t.length;n+=3)for(var o=t[n]<<16|t[n+1]<<8|t[n+2],i=0;i<4;i++)8*n+6*i<=8*t.length?e.push(r.charAt(o>>>6*(3-i)&63)):e.push("=");return e.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var e=[],n=0,o=0;n<t.length;o=++n%4)0!=o&&e.push((r.indexOf(t.charAt(n-1))&Math.pow(2,-2*o+8)-1)<<2*o|r.indexOf(t.charAt(n))>>>6-2*o);return e}},t.exports=n},function(t,e){function r(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(r(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&r(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,e,r){var n=r(350);t.exports=n},function(t,e,r){r(238);var n=r(351),o=r(124),i=Array.prototype,a={DOMTokenList:!0,NodeList:!0};t.exports=function(t){var e=t.keys;return t===i||t instanceof Array&&e===i.keys||a.hasOwnProperty(o(t))?n:e}},function(t,e,r){var n=r(352);t.exports=n},function(t,e,r){r(189);var n=r(176);t.exports=n("Array").keys},,,,,,,,,,,function(t,e,r){"use strict";r.d(e,"a",(function(){return u})),r.d(e,"b",(function(){return l}));r(13),r(16),r(10),r(52);var n=r(8),o=r(22),i=r(177),a=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a};const s={},c=new Set;class u{constructor(){this.firstSync=!1,this.syncTabTime=0,this._lockRollback=!1,this.isRollbackFromStorage=!1,this.backupFileKey="",this.backupValueKeys=[],this.rollbackFromStorage=()=>null,this.stopToStorageReaction=()=>{},this.stopAutoBackupReaction=()=>{},this.convertBackupEquals=t=>t}async initSyncStore(t,e,r={},a,c=20){if(s[t])throw new Error("storage key 重复");s[t]=this,0!==e.length&&(this.rollbackFromStorage=async()=>{let i=!1;const s=Object.create(null);Object.keys(r).forEach(t=>{e.includes(t)&&(s[t]=r[t])});try{const r=await Object(o.b)(t,a),n=r?Object.keys(r):[];r&&n.forEach(t=>{e.includes(t)&&(s[t]=r[t])}),this.firstSync||r&&!e.some(t=>!n.includes(t))||(i=!0)}catch(t){console.error("storageSync",t)}this.isRollbackFromStorage=!0,this.stopToStorageReaction(),this.stopAutoBackupReaction(),Object(n.i)(()=>{for(const t in s)this[t]=s[t];this.firstSync||(this.firstSync=!0)}),this.restartAutoBackupReaction(),this.stopToStorageReaction=Object(n.h)(()=>{const t={};return e.forEach(e=>{t[e]=Object(n.j)(this[e])}),t},e=>{this.isRollbackFromStorage=!1,Object(o.e)(t,e,a),Object(n.i)(()=>{this.syncTabTime=Date.now()})},{equals:n.d.structural,delay:c,fireImmediately:i})},await this.rollbackFromStorage(),Object(n.h)(()=>this.syncTabTime,e=>{e&&i.slave.sendMessage("tabs-sync",t)},{delay:60}))}restartAutoBackupReaction(t=!1){this.stopAutoBackupReaction(),this.stopAutoBackupReaction=Object(n.h)(()=>{const t={};return this.backupValueKeys.forEach(e=>{t[e]=Object(n.j)(this[e])}),t},t=>{(async(t,e)=>{try{const{syncStore:n}=await Promise.all([r.e(5),r.e(6),r.e(39)]).then(r.bind(null,461));n.pushAutoBackupPipe({[t]:e})}catch(t){}})(this.backupFileKey,t).catch()},{fireImmediately:t,equals:(t,e)=>{const r=this.convertBackupEquals(t),o=this.convertBackupEquals(e);return n.d.structural(r,o)},delay:40})}initAutoBackup(t,e){if(c.has(t))throw new Error("file key 重复");c.add(t),0!==e.length&&(this.backupFileKey=t,this.backupValueKeys=[...e])}async getBackupData(){const t={};return this.backupValueKeys.forEach(e=>{t[e]=Object(n.j)(this[e])}),t}}a([n.g],u.prototype,"firstSync",void 0),a([n.g],u.prototype,"syncTabTime",void 0),a([n.b],u.prototype,"initSyncStore",null);const l=t=>{const e=s[t];(null==e?void 0:e._lockRollback)||e.rollbackFromStorage()}},function(t,e,r){"use strict";r.r(e),r.d(e,"userStore",(function(){return x}));r(10),r(52),r(13),r(16),r(17);var n=r(7),o=r.n(n),i=r(245),a=r.n(i),s=r(104),c=r.n(s),u=r(8),l=r(363),p=r(81),f=r(0),h=r(120),d=r(26),g=r.n(d),y=r(196),m=r(177),w=r(365),b=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a};class v extends l.a{constructor(){super(),this.isExpired=!1,this.isLogin=!1,this.token="",this.userInfo={},this.refreshToken="",this.userProfilePromise=o.a.resolve(),this.wpColorUpdate=0,this.logining=!1,this.modalOpen=!1,this.removeAccountDisableSec=10,this.removeAccountDisableTimer=null,this.showLoginTipModal=!1,this.profileModal=!1,this.syncListModal=!1,this.isModify=!1,this.isShowLogoutConfirm=!1,this.showConfirmOpt="",this.clearAllData=!1,this.loading=!1,this.URL=f.w}setWpColorUpdate(t){this.wpColorUpdate=t}get qrcode(){if(this.isLogin&&y.e){const{uid:t,secret:e}=this.userInfo;return`${this.URL}/user/user_qr?uid=${t}&secret=${e}`}}closeModal(){this.modalOpen=!1}openModal(){this.modalOpen=!0}toggleLoginTipModal(){this.showLoginTipModal=!this.showLoginTipModal}closeLoginTipModal(){this.showLoginTipModal=!1}closeProfileModal(){this.profileModal=!1}openProfileModal(){this.profileModal=!0}closeSyncListModal(){this.syncListModal=!1}openSyncListModal(){this.syncListModal=!0}openModify(){this.isModify=!0}async modifyProfile(t){try{const e=await p.g.updateProfile(t);Object(u.i)(()=>{if(e&&0===e.code){const{user:{name:t,gender:r,avatar:n}}=e.data;this.userInfo.name=t,this.userInfo.gender=r,this.userInfo.avatar=n,this.closeModify()}else h.message.error(i18n("update_data_failure"))})}catch(t){h.message.error(t.message)}}async getUserProfile(){const t=await p.g.getUserProfile();Object(u.i)(()=>{if(t)if(0===t.code&&this.isLogin){const{gender:e,name:r,avatar:n}=t.data;this.userInfo.name=r,this.userInfo.gender=e,this.userInfo.avatar=n,this.userInfo["auto-backup"]=t.data["auto-backup"],this.userInfo["wp-color-update"]=t.data["wp-color-update"]}else 3012===t.code&&(h.message.error(t.message),this.exitAccount())})}async updateAvatar(t){try{return await p.g.uploadAvatar(t)}catch(t){h.message.error(i18n("upload_avatar_failure"))}}closeModify(){this.isModify=!1}thirdPartyLogin(t){let e;switch(this.logining=!0,t){case"facebook":e=this.URL+"/login/facebook";break;case"google":e=this.URL+"/login/google";break;case"qq":const t=encodeURIComponent("https://infinity-api.infinitynewtab.com/on-login/qq");e="https://graph.qq.com/oauth2.0/show?which=Login&display=pc&response_type=code&client_id=101410947&redirect_uri="+t;break;case"sina":e=this.URL+"/login/weibo";break;case"wechat":const r=encodeURIComponent("https://infinity-api.infinitynewtab.com/on-login/wechat");e="https://open.weixin.qq.com/connect/qrconnect?state=123&appid=wx5af98300f5d18d16&response_type=code&scope=snsapi_login&redirect_uri="+r}setTimeout(async()=>{const t=Math.floor(window.screenY+200),r=Math.floor(window.screenX+window.innerWidth/3),n=window.open(e,"_blank",`top=${t},left=${r},height=600,width=770,menubar=no,toolbar=yes,location=yes,status=no,resizable=no`);if(this.opener=n,f.n)return;const o=setInterval(()=>{n.postMessage({from:"origin_login"},"*")},300),i=t=>{if(!t.data&&!t.data.key&&"login"!==t.data.key)return;clearInterval(o),window.removeEventListener("message",i,!1);const{message:e}=t.data;this.login3rdSuccess(e)};window.addEventListener("message",i,!1)},300)}async login(t){const e=await p.g.login(t);Object(u.i)(()=>{if(!e||0!==e.code)throw h.message.error(e.message),new Error(e.code);this.loginEmailSuccess(e.data.user),this.setToken(e.data),this.setRefreshToken(e.data.refreshToken)})}async setMobileUid(){if(y.e){const{uid:t,secret:e}=this.userInfo,r=await p.g.getMobileUid(t,e);if(0===(null==r?void 0:r.code)){const{mobileuid:t}=r.data;Object(u.i)(()=>{this.userInfo.mobileuid=t})}}}async loginEmailSuccess(t){this.logining=!1,this.closeModal(),this.isLogin=!0,this.userInfo=t,this.isExpired=!1,await this.setMobileUid()}setUserData(t){this.logining=!1,this.closeModal(),this.isLogin=t.isLogin,this.userInfo=t,this.isExpired=!1;["token","refreshToken","isLogin"].forEach(t=>delete this.userInfo[t])}async login3rdSuccess(t){if(!t||!Object.keys(t).length)return void this.cancelLogin();const e=t["login-type"];if(["qq","wechat"].includes(e)){const e=await p.g.loginWithUid(t);0===e.code?Object(u.i)(()=>{this.setUserData(t),this.setToken(e.data),this.setRefreshToken(e.data.refreshToken)}):3006===e.code&&h.message.error("获取token失败")}else this.setUserData(t),this.setToken(t),this.setRefreshToken(t.refreshToken);await this.setMobileUid()}cancelLogin(){var t;this.logining=!1,null===(t=this.opener)||void 0===t||t.close()}toggleClear(t){this.clearAllData=t}logout(t){this.isShowLogoutConfirm=!0,this.showConfirmOpt=t,"remove"===t&&(this.removeAccountDisableSec=10,clearInterval(this.removeAccountDisableTimer),this.removeAccountDisableTimer=setInterval(()=>{Object(u.i)(()=>{this.removeAccountDisableSec-=1,0===this.removeAccountDisableSec&&(clearInterval(this.removeAccountDisableTimer),this.removeAccountDisableTimer=null)})},1e3))}async exitAccount(){this.loading=!0,this.isLogin=!1,this.userInfo={},this.clearToken(),await new o.a(t=>{setTimeout(()=>{this.clearAllData?this.clearAllStore().then(t):t(null)},200)}),this.clearAllData?window.location.reload():(Object(u.i)(()=>this.loading=!1),this.closeLogoutConfirm(),this.closeProfileModal(),f.r&&w.pluginStore.hideLast())}async deleteAccount(){this.loading=!0;const t=await p.g.deleteAccount();Object(u.i)(()=>{t&&0===t.code?this.exitAccount():(3012===t.code&&this.exitAccount(),h.message.error(t.message)),this.loading=!1})}preserveStorageKeys(){const t=[];return["store-privacy"].forEach(e=>t.push({key:e,data:localStorage.getItem(e)})),t}restoreKeysToStorage(t){t.forEach(({data:t,key:e})=>localStorage.setItem(e,t))}async clearAllStore(){this.stopAutoBackupReaction(),this.stopToStorageReaction();!f.r&&await new o.a(t=>chrome.storage.local.clear(t)),this._clearLocalStorage(["store-privacy","store-setting->permission","store-search->ignoreSuggest","first-installed"]),await this._deleteIdb(["store-notes","store-todo","store-sync","store-wallpaper","store-wallpaper-cache","infinity-image-base64"]),m.slave.sendMessage("tabs-reload")}async _deleteIdb(t){const e=await new o.a(t=>a()(g.a).call(g.a,(e,r)=>t(r)));await o.a.all(t.map(t=>new o.a(r=>{const n=t.split("->");if(1===n.length)return e.includes(t)?void g.a.removeItem(t,r):void r(null);r(null),e.includes(n[0])&&g.a.getItem(n[0],t=>{c()(n).call(n,(t,e,r)=>(r===n.length-1&&Reflect.deleteProperty(t,e),t[e]),t),g.a.setItem(n[0],r)})})))}_clearLocalStorage(t){const e=new Map;t.filter(Boolean).forEach(t=>{const r=t.split("->");if(1===r.length)return void e.set(t,localStorage.getItem(t));const n=JSON.parse(localStorage.getItem(r[0]));r.slice(1).forEach((t,e)=>{const o=0===e?n:n[r[e]];for(const e in o)t!==e&&Reflect.deleteProperty(o,e)}),e.set(r[0],JSON.stringify(n))}),localStorage.clear();for(const t of a()(e).call(e))localStorage.setItem(t,e.get(t))}closeLogoutConfirm(){this.isShowLogoutConfirm=!1}setToken(t){this.token=t.token}setRefreshToken(t){this.refreshToken=t}clearToken(){this.token="",this.refreshToken=""}setOutdated(){this.isExpired=!0,this.isLogin=!1}toggleReLogin(){this.isExpired=!1}}b([u.g],v.prototype,"isExpired",void 0),b([u.g],v.prototype,"isLogin",void 0),b([u.g],v.prototype,"token",void 0),b([u.g],v.prototype,"userInfo",void 0),b([u.g],v.prototype,"refreshToken",void 0),b([u.g],v.prototype,"wpColorUpdate",void 0),b([u.b],v.prototype,"setWpColorUpdate",null),b([u.e],v.prototype,"qrcode",null),b([u.g],v.prototype,"opener",void 0),b([u.g],v.prototype,"logining",void 0),b([u.g],v.prototype,"modalOpen",void 0),b([u.g],v.prototype,"removeAccountDisableSec",void 0),b([u.g],v.prototype,"removeAccountDisableTimer",void 0),b([u.b],v.prototype,"closeModal",null),b([u.b],v.prototype,"openModal",null),b([u.g],v.prototype,"showLoginTipModal",void 0),b([u.b],v.prototype,"toggleLoginTipModal",null),b([u.b],v.prototype,"closeLoginTipModal",null),b([u.g],v.prototype,"profileModal",void 0),b([u.g],v.prototype,"syncListModal",void 0),b([u.b],v.prototype,"closeProfileModal",null),b([u.b],v.prototype,"openProfileModal",null),b([u.b],v.prototype,"closeSyncListModal",null),b([u.b],v.prototype,"openSyncListModal",null),b([u.g],v.prototype,"isModify",void 0),b([u.b],v.prototype,"openModify",null),b([u.b],v.prototype,"modifyProfile",null),b([u.b],v.prototype,"getUserProfile",null),b([u.b],v.prototype,"updateAvatar",null),b([u.b],v.prototype,"closeModify",null),b([u.b],v.prototype,"thirdPartyLogin",null),b([u.b],v.prototype,"login",null),b([u.b],v.prototype,"setMobileUid",null),b([u.b],v.prototype,"loginEmailSuccess",null),b([u.b],v.prototype,"setUserData",null),b([u.b],v.prototype,"login3rdSuccess",null),b([u.b],v.prototype,"cancelLogin",null),b([u.g],v.prototype,"isShowLogoutConfirm",void 0),b([u.g],v.prototype,"showConfirmOpt",void 0),b([u.g],v.prototype,"clearAllData",void 0),b([u.b],v.prototype,"toggleClear",null),b([u.b],v.prototype,"logout",null),b([u.g],v.prototype,"loading",void 0),b([u.b],v.prototype,"exitAccount",null),b([u.b],v.prototype,"deleteAccount",null),b([u.b],v.prototype,"clearAllStore",null),b([u.b],v.prototype,"closeLogoutConfirm",null),b([u.b],v.prototype,"setToken",null),b([u.b],v.prototype,"setRefreshToken",null),b([u.b],v.prototype,"clearToken",null),b([u.b],v.prototype,"setOutdated",null),b([u.b],v.prototype,"toggleReLogin",null);const x=new v;Object(u.c)(()=>{x.isLogin&&(x.userProfilePromise=x.getUserProfile())}),x.initSyncStore("store-user",["userInfo","isLogin","token","refreshToken","wpColorUpdate"])},function(t,e,r){"use strict";r.r(e),r.d(e,"pluginStore",(function(){return l}));r(13),r(16),r(10);var n=r(8),o=r(129),i=r(346);class a extends i.a{opened(t){}}const s=Object(i.b)(new a);var c=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a};class u{constructor(){this.pluginsMap={"infinity://weather":"side-weather","infinity://todos":"side-todos","infinity://notes":"side-notes","infinity://history":"side-history","infinity://bookmarks":"side-bookmarks","infinity://extension":"side-extension","infinity://chrome-apps":"chrome-apps","infinity://wallpaper":"wallpaper","infinity://settings":"side-profile",search:"side-search",profile:"side-profile",editIcon:"side-editicon"},this.pluginsTags={"side-weather":!1,"side-todos":!1,"side-notes":!1,"side-history":!1,"side-bookmarks":!1,"side-extension":!1,"chrome-apps":!1,"side-profile":!1,"side-search":!1,"side-editicon":!1,wallpaper:!1},this.pluginViews=[],this.focusRepair=!1,Object(n.h)(()=>this.pluginViews.map(t=>t),([t])=>{s.opened(t)})}initDom(t){this.pluginsTags[t]=!0}async show(t){if(this.pluginViews.includes(t))return;const e=this.pluginsMap[t];if(!1===this.pluginsTags[e])try{await this.requestPermission(e),Object(n.i)(()=>{this.pluginsTags[e]=!0,this.pluginViews.push(t)})}catch(t){}else this.pluginViews.push(t)}async showRepair(){this.focusRepair=!0,this.show("profile"),localStorage.setItem("user-checkout-old-data","true")}blurRepair(){this.focusRepair=!1}requestPermission(t){switch(t){case"side-bookmarks":return o.a.request(["bookmarks"],["chrome://favicon/"]);case"side-extension":case"chrome-apps":return o.a.request(["management"]);case"side-history":return o.a.request(["history"],["chrome://favicon/"])}}hideLast(){const t=this.pluginViews.pop();return 0===this.pluginViews.length&&document.getElementsByTagName("newtab-main")[0].shadowRoot.querySelector(".swiper-content").style.setProperty("transform","none"),t}}c([n.g],u.prototype,"pluginsTags",void 0),c([n.b],u.prototype,"initDom",null),c([n.g],u.prototype,"pluginViews",void 0),c([n.g],u.prototype,"focusRepair",void 0),c([n.b],u.prototype,"show",null),c([n.b],u.prototype,"showRepair",null),c([n.b],u.prototype,"blurRepair",null),c([n.b],u.prototype,"hideLast",null);const l=new u},function(t,e,r){t.exports=r.p+"images/error.f782e7c.png"},function(t,e,r){t.exports=r.p+"images/remind.896ff6f.png"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,r){"use strict";r.r(e),r.d(e,"UserRegister",(function(){return w}));var n=r(126),o=r.n(n),i=(r(10),r(1)),a=(r(399),r(22)),s=r(81),c=r(2),u=r(489),l=i.b`.wrapper {
  display: flex;
  height: 100%;
  width: 100%;
  justify-content: center;
  align-items: center;
}
.wrapper .container {
  display: flex;
}
.wrapper .form {
  box-sizing: border-box;
  width: 450px;
  height: 495px;
  padding: 60px;
  background: #f9f9f9;
  border-radius: 6px 0px 0px 6px;
}
.wrapper .bg {
  width: 400px;
  height: 495px;
}
.wrapper .bg img {
  width: 100%;
  height: 100%;
}
.large-title {
  margin: 0;
  margin-bottom: 2px;
  font-size: 30px;
  font-weight: 600;
  color: #333;
  line-height: 42px;
}
.large-title + p {
  margin: 0;
  color: #333;
  font-size: 16px;
  font-weight: 300;
  line-height: 22px;
}
.form-control infinito-button {
  --button-color: #333;
  margin-top: 26px;
  width: 100%;
  height: 52px;
}
.form-control .cancel {
  display: block;
  margin: 0;
  font-size: 16px;
  color: #333;
  text-decoration: none;
  text-align: center;
  cursor: pointer;
}
infinito-input {
  --border-color: #999;
  margin-bottom: 24px;
}
/**
 * 注册
 */
.register-wrapper .register-form {
  padding: 45px 60px;
}
.register-wrapper .form-control {
  margin-top: 60px;
}
.register-wrapper .form-control .email-wrapper {
  display: flex;
  margin-bottom: 24px;
}
.register-wrapper .form-control .email-wrapper infinito-input {
  margin: 0;
  flex: 1;
}
.register-wrapper .form-control .email-wrapper infinito-button {
  --button-color: none;
  --border-color: #333;
  --font-color: #333;
  width: auto;
  min-width: 90px;
  margin: 0;
  margin-left: 10px;
}
.register-wrapper .return {
  margin: -36px 0 20px 0;
  font-size: 12px;
  font-weight: 400;
  color: #656565;
  line-height: 16px;
  cursor: pointer;
  transition: color 300ms;
}
.register-wrapper .return:hover {
  color: #333;
}
.register-wrapper .return img {
  width: 14px;
  vertical-align: middle;
}
`,p=r(523),f=r.n(p),h=r(21),d=r(753),g=r.n(d),y=r(120),m=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a};let w=class extends i.a{constructor(){super(),this.email="",this.code="",this.emailError="",this.codeError="",this.password="",this.passwordError="",this.repeatPassword="",this.repeatPasswordError="",this.disabled=!1,this.showCounter=!1,this.sec=60,this.isShowPassword=!1,this.loading1=!1,this.codeLoading=!1,this.validatorFunc=()=>{const t=new u.a;t.add(this.passwordInput.value,[{strategy:"isNonEmpty",errorMsg:Object(c.i18n)("password_dont_empty")},{strategy:"minLength:6",errorMsg:Object(c.i18n)("password_length_low")}]);return t.start()},document.title=Object(c.i18n)("register")}render(){return i.e`
      <div class="wrapper register-wrapper">
        <div class="container">
          <div class="form register-form">
            <div>
              <h2 class="large-title">${Object(c.i18n)("welcome_infinity")}</h2>
              ${this.isShowPassword?i.e`<p>${Object(c.i18n)("please_set_your_password")}</p>`:i.e`<p>${Object(c.i18n)("register_now")}</p>`}
            </div>
            <div class="form-control">
              ${this.isShowPassword?i.e`
                      <p class="return" @click=${this.goBack}><img .src=${g.a} />${Object(c.i18n)("register_back")}</p>
                      <infinito-input
                        name="password"
                        type="password"
                        placeholder="${Object(c.i18n)("password")}"
                        .error="${this.passwordError}"
                        @onfocus=${()=>{this.passwordError=""}}
                      ></infinito-input>
                      <infinito-input
                        name="repeatPassword"
                        type="password"
                        placeholder="${Object(c.i18n)("confirm_password_2")}"
                        .error="${this.repeatPasswordError}"
                        @keyup=${this.handleKeyUp}
                        @onfocus=${()=>{this.repeatPasswordError=""}}
                      ></infinito-input>
                      <infinito-button primary .loading=${this.codeLoading} @click="${this.handleClick}">
                        ${Object(c.i18n)("next")}
                      </infinito-button>
                    `:i.e`
                      <div class="email-wrapper">
                        <infinito-input
                          name="email"
                          placeholder="${Object(c.i18n)("email")}"
                          .error="${this.emailError}"
                          @onfocus=${()=>{this.emailError=""}}
                        >
                        </infinito-input>
                        ${this.showCounter?i.e`<infinito-button disabled>${this.sec}s</infinito-button>`:i.e`
                              <infinito-button
                                style="max-width: 165px;"
                                ?disabled=${this.loading1}
                                @click=${h.a.debounce(this.getCode,200)}
                              >
                                ${Object(c.i18n)("verity_code")}
                              </infinito-button>
                            `}
                      </div>
                      <infinito-input
                        name="code"
                        placeholder="${Object(c.i18n)("email_code")}"
                        .error="${this.codeError}"
                        @onfocus=${()=>{this.codeError=""}}
                      >
                      </infinito-input>
                      <infinito-button primary .loading=${this.codeLoading} @click="${this.setPassword}">
                        ${Object(c.i18n)("next")}
                      </infinito-button>
                    `}
              </div>
            </div>
          </div>
          <div class="bg register-bg">
            <img .src=${f.a} alt="bg" />
          </div>
        </div>
      </div>
    `}async goBack(){this.passwordError="",this.repeatPasswordError="",this.isShowPassword=!1,await this.updateComplete,this.emilInput.value=this.email,this.codeInput.value=this.code}async getCode(){var t;if(this.disabled)return;if(this.emailError=this.checkEmail(),this.emailError)return;const e=o()(t=this.emilInput.value).call(t);this.disabled=!0,this.loading1=!0;const r=await s.g.getRegisterCode({email:e});0===r.code?(y.message.success(Object(c.i18n)("send_success")),this.showCounter=!0,this.timer=setInterval(()=>{this.sec>0&&this.sec<=60?this.sec--:(this.sec=60,this.showCounter=!1,this.disabled=!1,clearInterval(this.timer))},1e3)):(this.disabled=!1,this.emilInput.shadowRoot.querySelector("input").focus(),"string"==typeof r.message?y.message.error(r.message):y.message.error(Object(c.i18n)("register_get_email_code_error"))),this.loading1=!1}checkEmail(){var t;const e=o()(t=this.emilInput.value).call(t);return e?/^\w+([+-.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(e)?void 0:Object(c.i18n)("email_format_error"):Object(c.i18n)("cannot_empty")}checkCode(){if(!this.codeInput.value)return Object(c.i18n)("verity_code_no_value")}async setPassword(){var t;const e=o()(t=this.emilInput.value).call(t),r=this.codeInput.value;if(this.emailError=this.checkEmail(),this.codeError=this.checkCode(),this.emailError||this.codeError)return;this.codeLoading=!0;const n=await s.g.inspceCode({email:e,code:r});0===n.code?(this.email=e,this.code=r,this.isShowPassword=!0):y.message.error(n.message),this.codeLoading=!1}handleKeyUp(t){13===t.keyCode&&(t.preventDefault(),this.handleClick())}async handleClick(){if(this.codeLoading)return;const t=this.passwordInput.value,e=this.repeatPasswordInput.value,r=this.validatorFunc();if(this.passwordError=r,e&&e===t||(this.repeatPasswordError=Object(c.i18n)("password_not_equals")),r||this.repeatPasswordError)return;this.codeLoading=!0;const n=await s.g.register({email:this.email,password:t,repeatPassword:e,code:this.code});if(0===n.code){const{user:t,token:e,refreshToken:r}=n.data,o=await s.g.getMobileUid(t.uid,t.secret);if(0===(null==o?void 0:o.code)){const{mobileuid:e}=o.data;t.mobileuid=e}const i=await Object(a.b)("store-user");if(null==i?void 0:i.isLogin)return h.a.openUrl(null),void setTimeout(()=>{window.close()},0);Object(a.e)("store-user",{isLogin:!0,userInfo:t,token:e,refreshToken:r}),Object(a.c)("/user-setting/index.html")}else y.message.error(n.message);this.codeLoading=!1}};w.styles=l,m([Object(i.h)('infinito-input[name="email"]')],w.prototype,"emilInput",void 0),m([Object(i.h)('infinito-input[name="code"]')],w.prototype,"codeInput",void 0),m([Object(i.h)('infinito-input[name="password"]')],w.prototype,"passwordInput",void 0),m([Object(i.h)('infinito-input[name="repeatPassword"]')],w.prototype,"repeatPasswordInput",void 0),m([Object(i.g)({type:String})],w.prototype,"email",void 0),m([Object(i.g)({type:String})],w.prototype,"code",void 0),m([Object(i.g)({type:String})],w.prototype,"emailError",void 0),m([Object(i.g)({type:String})],w.prototype,"codeError",void 0),m([Object(i.g)({type:String})],w.prototype,"password",void 0),m([Object(i.g)({type:String})],w.prototype,"passwordError",void 0),m([Object(i.g)({type:String})],w.prototype,"repeatPassword",void 0),m([Object(i.g)({type:String})],w.prototype,"repeatPasswordError",void 0),m([Object(i.g)({type:Boolean})],w.prototype,"disabled",void 0),m([Object(i.g)({type:Boolean})],w.prototype,"showCounter",void 0),m([Object(i.g)({type:Number})],w.prototype,"sec",void 0),m([Object(i.g)({type:Boolean})],w.prototype,"isShowPassword",void 0),m([Object(i.g)({type:Boolean})],w.prototype,"loading1",void 0),m([Object(i.g)({type:Boolean})],w.prototype,"codeLoading",void 0),w=m([Object(i.c)("user-register")],w)},,,,,,,,,,,,,,,,,,,,,,,function(t,e,r){"use strict";r(13),r(16),r(17);const n={isNonEmpty:(t,e)=>""===t?e:void 0,minLength:(t,e,r)=>t.length<e?r:void 0,isEmail:(t,e)=>/^\w+([+-.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(t)?void 0:e};e.a=class{constructor(){this.cache=[]}add(t,e){for(const r of e){const e=r.strategy.split(":"),o=r.errorMsg;this.cache.push(()=>{const r=e.shift();return e.unshift(t),e.push(o),n[r].apply(null,e)})}}start(){for(const t of this.cache){const e=t();if(e)return e}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,r){t.exports=r.p+"images/user-bg3.85b6f67.png"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,r){t.exports=r.p+"images/arrow.f15849d.png"}]]);